<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="referrer" content="no-referrer"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="Hexo Theme Redefine"><meta name="author" content="Lu"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://registry.npmmirror.com" crossorigin><link rel="canonical" href="https://lusy37.github.io/2024/06/01/javaweb/"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="Hexo Theme Redefine, Redefine Your Hexo Journey."><meta property="og:type" content="article"><meta property="og:title" content="Java IO流"><meta property="og:url" content="https://lusy37.github.io/2024/06/01/JavaWeb/index.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="Hexo Theme Redefine, Redefine Your Hexo Journey."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://lusy37.github.io/images/redefine-og.webp"><meta property="article:published_time" content="2024-06-01T00:46:53.000Z"><meta property="article:modified_time" content="2025-03-11T04:44:58.057Z"><meta property="article:author" content="Lu"><meta property="article:tag" content="学习总结"><meta property="article:tag" content="Java"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://lusy37.github.io/images/redefine-og.webp"><link rel="icon" type="image/png" href="/images/redefine-favicon.jpg" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-favicon.jpg"><meta name="theme-color" content="#A31F34"><link rel="shortcut icon" href="/images/redefine-favicon.jpg"><title>Java IO流 | Lusy</title><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fonts/Chillax/chillax.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/css/build/tailwind.css"><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fonts/GeistMono/geist-mono.css"><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fonts/Geist/geist.css"><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/anime.min.js"></script><script id="hexo-configurations">window.config={hostname:"lusy37.github.io",root:"/",language:"en",path:"search.xml"},window.theme={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,delete_mask:!1,title_alignment:"left",headings_top_spacing:{h1:"3.2rem",h2:"2.4rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!0,auto:!1,list:[]},code_block:{copy:!0,style:"mac",highlight_theme:{light:"github",dark:"vs2015"},font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:6,number:!1,expand:!0,init_open:!0},copyright:{enable:!0,default:"cc_by_nc_sa"},lazyload:!0,pangu_js:!1,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#A31F34",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!1,family:null,url:null},english:{enable:!1,family:null,url:null},title:{enable:!1,family:null,url:null}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!0},scroll_progress:{bar:!1,percentage:!0},website_counter:{url:"https://cn.vercount.one/js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:{enable:!0,custom_message:null},open_graph:{enable:!0,image:"/images/redefine-og.webp",description:"Hexo Theme Redefine, Redefine Your Hexo Journey."},google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"/images/wallhaven-wqery6-light.webp",dark:"/images/wallhaven-wqery6-dark.webp"},title:"等一场花开",subtitle:{text:["迷失的人迷失了，相遇的人再相遇","迷い人はまた迷い、巡り逢うべき人とは再び巡り逢う"],hitokoto:{enable:!1,show_author:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!1,family:null,url:null},social_links:{enable:!1,style:"default",links:{github:null,instagram:null,zhihu:null,twitter:null,email:null},qrs:{weixin:null}}},plugins:{feed:{enable:!1},aplayer:{enable:!1,type:"fixed",audios:[{name:null,artist:null,url:null,cover:null,lrc:null}]},mermaid:{enable:!1,version:"11.4.1"}},version:"2.8.2",navbar:{auto_hide:!1,color:{left:"#f78736",right:"#367df7",transparency:35},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-regular fa-house"},Essays:{path:"/essays",icon:"fa-regular fa-pen-to-square"},Think:{path:"/think",icon:"fa-regular fa-paper-plane"}},search:{enable:!0,preload:!0}},page_templates:{friends_column:2,tags_style:"blur"},home:{sidebar:{enable:!0,position:"left",first_item:"menu",announcement:"If its rainy, you won't see me.If its sunny ,you'll think of me.",show_on_mobile:!0,links:{Archives:{path:"/archives",icon:"fa-regular fa-archive"},Tags:{path:"/tags",icon:"fa-regular fa-tags"},Categories:{path:"/categories",icon:"fa-regular fa-folder"}}},article_date_format:"YYYY-MM-DD",excerpt_length:200,categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footerStart:"2024/2/12 15:45:14"},window.lang_ago={second:"%s seconds ago",minute:"%s minutes ago",hour:"%s hours ago",day:"%s days ago",week:"%s weeks ago",month:"%s months ago",year:"%s years ago"},window.data={masonry:!1}</script><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/brands.min.css"><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/solid.min.css"><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/fontawesome/regular.min.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="progress-bar-container"><span class="pjax-progress-bar"></span></div><style>:root{--preloader-background-color:#fff;--preloader-text-color:#000}@media (prefers-color-scheme:dark){:root{--preloader-background-color:#202124;--preloader-text-color:#fff}}@media (prefers-color-scheme:light){:root{--preloader-background-color:#fff;--preloader-text-color:#000}}@media (max-width:600px){.ml13{font-size:2.6rem!important}}.preloader{display:flex;flex-direction:column;gap:1rem;align-items:center;justify-content:center;position:fixed;padding:12px;top:0;right:0;bottom:0;left:0;width:100vw;height:100vh;background-color:var(--preloader-background-color);z-index:1100;transition:opacity .2s ease-in-out}.ml13{font-size:3.2rem;color:var(--preloader-text-color);letter-spacing:-1px;font-weight:500;font-family:Chillax-Variable,sans-serif;text-align:center}.ml13 .word{display:inline-flex;flex-wrap:wrap;white-space:nowrap}.ml13 .letter{display:inline-block;line-height:1em}</style><div class="preloader"><h2 class="ml13">Lusy</h2><script>var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });

        var animation = anime.timeline({ loop: true })
            .add({
                targets: '.ml13 .letter',
                translateY: [20, 0],
                translateZ: 0,
                opacity: [0, 1],
                filter: ['blur(5px)', 'blur(0px)'],
                easing: "easeOutExpo",
                duration: 1200,
                delay: (el, i) => 300 + 20 * i,
            })
            .add({
                targets: '.ml13 .letter',
                translateY: [0, -20],
                opacity: [1, 0],
                filter: ['blur(0px)', 'blur(5px)'],
                easing: "easeInExpo",
                duration: 1000,
                delay: (el, i) => 15 * i,
                complete: function() {
                    hidePreloader();
                }
            }, '-=700');


        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            setTimeout(hidePreloader, 5000); // Call hidePreloader after 5000 milliseconds if not already called by animation
        });

        function hidePreloader() {
            var preloader = document.querySelector('.preloader');
            preloader.style.opacity = '0';
            setTimeout(function () {
                preloader.style.display = 'none';
            }, 200);
        }</script></div><main class="page-container" id="swup"><div class="main-content-container flex flex-col justify-between min-h-dvh"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content transition-navbar"><div class="left"><a class="logo-title" href="/">Lusy</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-regular fa-house fa-fw"></i> HOME</a></li><li class="navbar-item"><a href="/essays"><i class="fa-regular fa-pen-to-square fa-fw"></i> ESSAYS</a></li><li class="navbar-item"><a href="/think"><i class="fa-regular fa-paper-plane fa-fw"></i> THINK</a></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>HOME </span><i class="fa-regular fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/essays"><span>ESSAYS </span><i class="fa-regular fa-pen-to-square fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/think"><span>THINK </span><i class="fa-regular fa-paper-plane fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/archives"><span>Archives</span> <i class="fa-regular fa-archive fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/tags"><span>Tags</span> <i class="fa-regular fa-tags fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/categories"><span>Categories</span> <i class="fa-regular fa-folder fa-sm fa-fw"></i></a></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">9</div><div class="label text-third-text-color text-sm">Tags</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">5</div><div class="label text-third-text-color text-sm">Categories</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">24</div><div class="label text-third-text-color text-sm">Posts</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body transition-fade-up"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><div class="w-full flex items-center pt-6 justify-start"><h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">Java IO流</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"><img src="/images/redefine-avatar.jpg"></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">Lu</span> <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv3</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class="desktop">2024-06-01 08:46:53</span> <span class="mobile">2024-06-01 08:46:53</span> <span class="hover-info">Created</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">2025-03-11 12:44:58</span> <span class="mobile">2025-03-11 12:44:58</span> <span class="hover-info">Updated</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href="/categories/Java/">Java</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href="/tags/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">学习总结</a>&nbsp;</li><li>| <a href="/tags/Java/">Java</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fa-regular fa-typewriter"></i>&nbsp;<span>31.2k Words</span> </span><span class="article-min2read article-meta-item"><i class="fa-regular fa-clock"></i>&nbsp;<span>128 Mins</span> </span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><h1 id="JavaWeb学习"><a href="#JavaWeb学习" class="headerlink" title="JavaWeb学习"></a>JavaWeb学习</h1><h2 id="1-初识web前端"><a href="#1-初识web前端" class="headerlink" title="1.初识web前端"></a>1.初识web前端</h2><p><strong>Web标准</strong><br>Web标准也称为网页标准，由一系列的标准组成，大部分由W3C（World Wide Web Consortium，万维网联盟）组织制定。</p><ul><li>三个组成部分：<ul><li><strong>HTML</strong>：负责<strong>网页的结构</strong>（页面元素和内容）</li><li><strong>CSS</strong>：负责<strong>页面的表现</strong>（页面元素的外观，位置等页面样式，如：颜色、大小等）</li><li><strong>JavaScript</strong>：负责<strong>页面的行为</strong>（页面元素的交互，如：鼠标点击、滑动等） ^f1dcc5</li></ul></li></ul><h3 id="1-1-HTML"><a href="#1-1-HTML" class="headerlink" title="1.1 HTML"></a>1.1 HTML</h3><p>HTML（HyperText Markup Language）：超文本标记语言。</p><ul><li><strong>超文本</strong>：超越了文本的限制，比普通文本更强大。除了文字信息，还可以定义图片、音频、视频等内容。</li><li><strong>标记语言</strong>：由标签构成的语言。<ul><li>HTML标签都是<strong>预定义</strong>好的。例如：使用&lt;a&gt;展示超链接，使用&lt;img&gt;展示图片、&lt;video&gt;展示视频等。</li><li>HTML代码直接在浏览器中运行，HTML标签由浏览器解析。</li></ul></li></ul><p><strong>HTML结构标签</strong>：</p><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这里设置了HTML文档的基本结构，包括文档类型、语言、字符编码和视口设置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这里是网页的主体部分，内容将显示在这里 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><strong>语言特点</strong>：</p><ul><li>HTML标签不区分大小写</li><li>HTML标签属性值单双引号都可以</li><li>HTML语法松散</li><li>在HTML中无论输入多少个空格，只会显示一个，可以使用空格占位符：<code>&amp;nbsp;</code></li></ul><h4 id="1-1-1-标题标签"><a href="#1-1-1-标题标签" class="headerlink" title="1.1.1 标题标签"></a>1.1.1 标题标签</h4><ul><li><strong>标签</strong>：&lt;h1&gt;…&lt;h1&gt; (h1 -&gt; h6 重要程度依次降低)</li><li><strong>示例</strong>：<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>标题1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>标题2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>标题3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ul><h4 id="1-1-2-水平线标签"><a href="#1-1-2-水平线标签" class="headerlink" title="1.1.2 水平线标签"></a>1.1.2 水平线标签</h4><ul><li><strong>标签</strong>：&lt;hr&gt;</li></ul><h4 id="1-1-3-换行标签"><a href="#1-1-3-换行标签" class="headerlink" title="1.1.3 换行标签"></a>1.1.3 换行标签</h4><ul><li><strong>标签</strong>：&lt;br&gt;</li></ul><h4 id="1-1-4-段落标签"><a href="#1-1-4-段落标签" class="headerlink" title="1.1.4 段落标签"></a>1.1.4 段落标签</h4><ul><li><strong>标签</strong>：&lt;p&gt;…&lt;p&gt;</li></ul><h4 id="1-1-5-文本加粗标签"><a href="#1-1-5-文本加粗标签" class="headerlink" title="1.1.5 文本加粗标签"></a>1.1.5 文本加粗标签</h4><ul><li><strong>标签</strong>：&lt;b&gt;…&lt;&#x2F;b&gt; 或者 &lt;strong&gt;…&lt;&#x2F;strong&gt;</li></ul><h4 id="1-1-6-图片标签"><a href="#1-1-6-图片标签" class="headerlink" title="1.1.6 图片标签"></a>1.1.6 图片标签</h4><ul><li><strong>标签</strong>：&lt;img src&#x3D;”图片路径” width&#x3D;”宽度” height&#x3D;”高度” alt&#x3D;”替代文本”&gt;<ul><li><code>src</code>：指定图像的路径url（绝对路径&#x2F;相对路径）</li><li><code>width</code>：指定图像的宽度（像素&#x2F;相对于父元素的百分比）</li><li><code>height</code>：指定图像的高度（像素&#x2F;相对于父元素的百分比）</li><li><code>alt</code>：指定图像的替代文本<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808220223.png"></li></ul></li></ul><h4 id="1-1-7-视频标签"><a href="#1-1-7-视频标签" class="headerlink" title="1.1.7 视频标签"></a>1.1.7 视频标签</h4><ul><li><strong>标签</strong>：&lt;video src&#x3D;”视频路径” controls width&#x3D;”宽度” height&#x3D;”高度”&gt;<ul><li><code>src</code>：指定视频文件的路径url（绝对路径&#x2F;相对路径）</li><li><code>controls</code>：指定是否显示播放控件</li><li><code>width</code>：指定视频的宽度（像素&#x2F;相对于父元素的百分比）</li><li><code>height</code>：指定视频的高度（像素&#x2F;相对于父元素的百分比）</li></ul></li></ul><h4 id="1-1-8-音频标签"><a href="#1-1-8-音频标签" class="headerlink" title="1.1.8 音频标签"></a>1.1.8 音频标签</h4><ul><li><strong>标签</strong>：&lt;audio src&#x3D;”音频路径” controls&gt;<ul><li><code>src</code>：指定音频文件的路径url（绝对路径&#x2F;相对路径）</li><li><code>controls</code>：指定是否显示播放控件</li></ul></li></ul><h4 id="1-1-9-超链接标签"><a href="#1-1-9-超链接标签" class="headerlink" title="1.1.9 超链接标签"></a>1.1.9 超链接标签</h4><ul><li><strong>标签</strong>：&lt;a href&#x3D;”链接地址” target&#x3D;”…”&gt;链接文本&lt;&#x2F;a&gt;<ul><li><code>href</code>：指定链接地址url（绝对路径&#x2F;相对路径）</li><li><code>target</code>：指定链接打开方式（_self：默认值，当前窗口打开；_blank：新窗口打开）</li></ul></li></ul><h4 id="1-1-10-布局标签"><a href="#1-1-10-布局标签" class="headerlink" title="1.1.10 布局标签"></a>1.1.10 布局标签</h4><p>实际开发网页中，会大量频繁的使用div和span这两个没有<strong>语义</strong>的布局标签。</p><ul><li><strong>标签</strong>：&lt;div&gt;…&lt;&#x2F;div&gt; 或者 &lt;span&gt;…&lt;&#x2F;span&gt;</li><li><strong>特点</strong>：<ul><li><code>div标签</code>:<ul><li>一行只显示一个（独占一行）</li><li>宽度默认是父元素的宽度，高度默认由内容撑开</li><li>可以设置宽高（width、height）</li></ul></li><li><code>span标签</code>：<ul><li>一行可以显示多个（不独占一行）</li><li>宽度和高度默认由内容撑开</li><li>可以设置宽高（width、height）</li></ul></li></ul></li></ul><h4 id="1-1-11-表格标签"><a href="#1-1-11-表格标签" class="headerlink" title="1.1.11 表格标签"></a>1.1.11 表格标签</h4><ul><li><strong>标签</strong>：<ul><li>&lt;table&gt;…&lt;&#x2F;table&gt;：定义表格</li><li>&lt;tr&gt;…&lt;&#x2F;tr&gt;：定义表格中的行，一个&lt;tr&gt;表示一行</li><li>&lt;th&gt;…&lt;&#x2F;th&gt;：表示表头单元格，具有加粗居中效果</li><li>&lt;td&gt;…&lt;&#x2F;td&gt;：表示普通单元格</li></ul></li><li><strong>场景</strong>：在网页中以表格（行、列）形式整齐展示数据，如：班级表。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808222416.png"></li></ul><h4 id="1-1-12-表单标签"><a href="#1-1-12-表单标签" class="headerlink" title="1.1.12 表单标签"></a>1.1.12 表单标签</h4><ul><li><strong>标签</strong>：&lt;form action&#x3D;”提交地址” method&#x3D;”提交方式”&gt;<ul><li><code>action</code>：指定表单提交的地址url（绝对路径&#x2F;相对路径）</li><li><code>method</code>：指定表单提交的方式（get&#x2F;post）<ul><li><code>get</code>：表单数据拼接在url后面，大小有限制。eg：?username&#x3D;java</li><li><code>post</code>：表单数据放在请求体中，大小无限制。eg：username&#x3D;java</li></ul></li></ul></li><li><strong>表单项</strong>：<ul><li><code>&lt;input type=&quot;…&quot;&gt;</code>：定义表单项，通过type属性控制输入形式</li><li><code>&lt;select&gt;…&lt;/select&gt;</code>：定义下拉列表，&lt;option&gt;定义列表项</li><li><code>&lt;textarea&gt;…&lt;/textarea&gt;</code>：定义多行文本输入框<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808223456.png"><blockquote><p><strong>注意</strong>：表单项必须有name属性才可以提交。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808224516.png"></p></blockquote></li></ul></li></ul><h3 id="1-2-CSS"><a href="#1-2-CSS" class="headerlink" title="1.2 CSS"></a>1.2 CSS</h3><p>CSS（Cascading Style Sheets）：层叠样式表，用于控制页面的样式（表现）。</p><h4 id="1-2-1-盒子模型"><a href="#1-2-1-盒子模型" class="headerlink" title="1.2.1 盒子模型"></a>1.2.1 盒子模型</h4><ul><li><strong>盒子</strong>：页面中的所有元素（标签），都可以看做是一个<span style="color:red"><strong>盒子</strong></span>，由盒子将页面中的元素包含在一个矩形区域内，通过盒子的视角更方便的进行页面布局</li><li><strong>盒子模型</strong>：盒子由<span style="color:red"><strong>内容区域（content）</strong>、<strong>内边距区域（padding）</strong>、<strong>边框区域（border）</strong>、<strong>外边距区域（margin）</strong></span>组成。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808230724.png"></li><li><strong>属性</strong>：<ul><li><code>width</code>：设置盒子的宽度</li><li><code>height</code>：设置盒子的高度</li><li><code>border</code>：设置盒子的边框属性，如：border: 1px solid red&#x2F;#000&#x2F;……;</li><li><code>padding</code>：设置盒子的内边距</li><li><code>margin</code>：设置盒子的外边距<blockquote><p><strong>注意</strong>：如果只需要设置某一个方位的边框、内边距、外边距，可以在属性名后加上 -位置，如：border-top、padding-left、margin-right。</p></blockquote></li></ul></li></ul><h4 id="1-2-2-CSS引入方式"><a href="#1-2-2-CSS引入方式" class="headerlink" title="1.2.2 CSS引入方式"></a>1.2.2 CSS引入方式</h4><ul><li><strong>行内样式</strong>：写在标签的style属性中（不推荐）<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color: red;&quot;</span>&gt;</span>…<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><strong>内嵌模式</strong>：写在style标签中（可以写在页面任何位置，但通常约定写在head标签中）<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">        &lt;--!属性名：属性值;--&gt;</span></span><br><span class="line"><span class="language-css">        xxx: xxx; </span></span><br><span class="line"><span class="language-css">        xxx: xxx;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><strong>外联模式</strong>：写在外部一个单独的.css文件中（需要通过 link 标签在网页中引入）<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css/style.css&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ul><h4 id="1-2-3-CSS选择器"><a href="#1-2-3-CSS选择器" class="headerlink" title="1.2.3 CSS选择器"></a>1.2.3 CSS选择器</h4><ul><li>元素选择器：标签名 {…}</li><li>id选择器：#id属性值 {…}</li><li>类选择器：.class属性值 {…}<br><strong>优先级</strong>：id选择器 &gt; 类选择器 &gt; 元素选择器<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808234246.png"></li></ul><h4 id="1-2-4-CSS属性"><a href="#1-2-4-CSS属性" class="headerlink" title="1.2.4 CSS属性"></a>1.2.4 CSS属性</h4><ul><li><p><strong>颜色和背景</strong></p><ul><li><code>color</code>：设置文本颜色。</li><li><code>background-color</code>：设置背景颜色。</li><li><code>background-image</code>：设置背景图片。</li><li><code>background-repeat</code>：设置背景图片的重复方式。</li><li><code>background-size</code>：设置背景图片的大小。</li></ul></li><li><p><strong>字体和文本</strong></p><ul><li><code>font-family</code>：设置字体系列。</li><li><code>font-size</code>：设置字体大小（记得加px）</li><li><code>font-weight</code>：设置字体粗细。</li><li><code>font-style</code>：设置字体样式（例如：italic）。</li><li><code>text-transform</code>：设置文本的大小写（uppercase, lowercase, capitalize）。</li><li><code>text-decoration</code>：设置文本的装饰（underline, overline, line-through, none）。</li><li><code>letter-spacing</code>：设置字母间距。</li><li><code>word-spacing</code>：设置单词间距。</li></ul></li><li><p><strong>边距和填充</strong></p><ul><li><code>margin</code>：设置外边距。</li><li><code>padding</code>：设置内边距。</li></ul></li><li><p><strong>边框</strong></p><ul><li><code>border</code>：设置边框。</li><li><code>border-width</code>：设置边框宽度。</li><li><code>border-style</code>：设置边框样式（solid, dashed, dotted）。</li><li><code>border-color</code>：设置边框颜色。</li><li><code>border-radius</code>：设置圆角边框。</li></ul></li><li><p><strong>布局</strong></p><ul><li><code>display</code>：设置元素的显示类型（block, inline, flex, grid, none）。</li><li><code>position</code>：设置元素的定位类型（static, relative, absolute, fixed, sticky）。</li><li><code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>：设置定位偏移。</li><li><code>z-index</code>：设置元素的堆叠顺序。</li><li><code>overflow</code>：设置溢出内容的处理方式（visible, hidden, scroll, auto）。</li></ul></li><li><p><strong>尺寸</strong></p><ul><li><code>width</code>：设置元素的宽度。</li><li><code>height</code>：设置元素的高度。</li><li><code>max-width</code>：设置元素的最大宽度。</li><li><code>max-height</code>：设置元素的最大高度。</li><li><code>min-width</code>：设置元素的最小宽度。</li><li><code>min-height</code>：设置元素的最小高度。</li></ul></li><li><p><strong>浮动和清除</strong></p><ul><li><code>float</code>：设置元素的浮动（left, right, none）。</li><li><code>clear</code>：设置浮动的清除（left, right, both, none）。</li></ul></li><li><p><strong>表格</strong></p><ul><li><code>border-collapse</code>：设置是否合并表格边框。</li><li><code>border-spacing</code>：设置表格单元之间的边框间距。</li><li><code>caption-side</code>：设置表格标题的位置（top, bottom）。</li><li><code>empty-cells</code>：设置是否显示空单元格（show, hide）。</li></ul></li><li><p><strong>其它</strong></p><ul><li><code>line-height</code>：设置行高</li><li><code>text-indent</code>：设置首行的缩进</li><li><code>text-align</code>：设置元素中文本的水平对齐方式（left&#x2F;center&#x2F;right&#x2F;justify）</li></ul></li></ul><h3 id="1-3-JavaScript"><a href="#1-3-JavaScript" class="headerlink" title="1.3 JavaScript"></a>1.3 JavaScript</h3><ul><li>JavaScript（简称：JS）是一门跨平台、面向对象的脚本语言。是用来控制网页行为的语言，它能使网页可交互。</li><li>JavaScript和Java是完全不同的语言，不论是概念还是设计，但是基础语法类似。</li><li>JavaScript在1995年由Brendan Eich发明，并于1997年成为ECMA标准。</li><li>ECMAScript 6（ES6）是最新的JavaScript版本。</li></ul><blockquote><p><strong>ECMA</strong>：ECMA国际（前身为欧洲计算机制造商协会），制定了标准化的脚本程序设计语言 ECMAScript，这种语言得到广泛应用。而JavaScript是遵守ECMAScript标准的脚本语言。</p></blockquote><h4 id="1-3-1-JS引入方式"><a href="#1-3-1-JS引入方式" class="headerlink" title="1.3.1 JS引入方式"></a>1.3.1 JS引入方式</h4><ul><li><strong>内部脚本</strong>：将JS代码定义在HTML页面中<ul><li>JavaScript代码必须位于<code>&lt;script&gt;……&lt;/script&gt;</code>标签之间</li><li>在HTML文档中，可以在任意地方，放置任意数量的&lt;script&gt;标签</li><li>一般会把脚本置于&lt;body&gt;标签中，这样，脚本会在页面加载后执行，改善显示速度。</li></ul><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alert</span>(<span class="string">&quot;Hello JavaScript!&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><strong>外部脚本</strong>：将JS代码定义在外部单独的JS文件中，然后引入到HTML页面中<ul><li>外部JS文件中，只包含JS代码，不包含&lt;script&gt;标签,也不包含HTML代码</li><li>&lt;script&gt;标签不能自闭合</li></ul><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/demo.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// demo.js文件</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;Hello JavaScript!&quot;</span>);</span><br></pre></td></tr></table></figure></div></li></ul><h4 id="1-3-2-基础语法"><a href="#1-3-2-基础语法" class="headerlink" title="1.3.2 基础语法"></a>1.3.2 基础语法</h4><p><strong>1.书写语法</strong>:</p><ul><li><strong>区分大小写</strong>：JavaScript区分大小写，变量名、函数名、关键字等必须使用正确的大小写。</li><li>每行结尾的分号可有可无</li><li><strong>注释</strong>：<ul><li>单行注释：&#x2F;&#x2F; 注释内容</li><li>多行注释：&#x2F;* 注释内容 *&#x2F;</li></ul></li><li><strong>大括号表示代码块</strong>：<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断</span></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  <span class="title function_">alter</span>(count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><strong>2.输出语句</strong>：</li><li>使用 <code>window.alert()</code> 函数输出警告框【window可以省略】</li><li>使用<code>document.write()</code> 函数输出到页面</li><li>使用 <code>console.log()</code> 函数输出到浏览器控制台</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="string">&quot;Hello JavaScript!&quot;</span>); <span class="comment">// 浏览器弹出警告框</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;Hello JavaScript!&quot;</span>); <span class="comment">// 写入HTML，在浏览器中显示</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello JavaScript!&quot;</span>); <span class="comment">// 写入浏览器控制台</span></span><br></pre></td></tr></table></figure></div><p><strong>3.变量</strong>：</p><ul><li>JavaScript中用 <code>var</code> 关键字（variable的缩写）声明变量。<ul><li>var 声明的变量在其所在的函数或全局范围内有效，具有<strong>函数作用域</strong>，而不是块级作用域。这意味着即使 var 声明在块（如 if 或 for 循环）内部，变量仍然在函数范围内或全局范围内有效。</li><li>var声明的变量可以被重复声明，这可能导致意外的行为，因此在现代JavaScript中通常不推荐使用。</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="string">&quot;A&quot;</span>; <span class="comment">// 允许重复声明</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 输出 &quot;A&quot;</span></span><br></pre></td></tr></table></figure></div></li><li>JavaScript是一门<strong>弱类型</strong>语言，变量<font color="red">可以存放不同类型的值</font>。<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">a = <span class="string">&quot;张三&quot;</span>;<span class="comment">// 变量 `a` 的类型从数字变成了字符串</span></span><br></pre></td></tr></table></figure></div></li><li>变量名需要遵循如下规则：<ul><li>组成字符可以是任何字母、下划线、$符号</li><li>不能以数字开头</li><li>建议使用驼峰命名</li></ul></li></ul><blockquote><p><strong>注意</strong>：</p><ul><li>ECMAScript 6（ES6）中，新增了<code>let</code>关键字来定义变量。它的作用类似于var，但是所声明的变量具有<strong>块级作用域</strong>，只在let关键字所在的代码块中有效，且不能重复声明。</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// let b = 20; // 会抛出错误，因为 `b` 已经在同一块级作用域中声明过</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ul><li>ECMAScript 6（ES6）中，新增了<code>const</code>关键字，用来声明一个只读的常量，常量的值一旦声明就不能改变。<font color="red">【但是，const 并不意味着所引用的对象是不可变的。如果 const 引用的是一个对象（包括数组），对象的内容是可以改变的】</font></li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> c = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// c = 20; // 会抛出错误，因为 `c` 是常量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">name</span>: <span class="string">&quot;张三&quot;</span> &#125;;</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;李四&quot;</span>; <span class="comment">// 允许改变对象内部属性的值</span></span><br></pre></td></tr></table></figure></div></blockquote><p><strong>4.数据类型</strong>：<br>JavaScript中的数据类型分为：<strong>原始类型</strong>和<strong>引用类型</strong>。</p><ul><li><strong>原始类型</strong>：<ul><li><code>number</code>：表示数字类型，可以是整数、浮点数和 NaN（Not a Number）。</li><li><code>string</code>：表示字符串类型，单引号和双引号都可以。</li><li><code>boolean</code>：表示布尔类型，只能是 true 或 false。</li><li><code>null</code>：表示空值，表示一个空对象。</li><li><code>undefined</code>：表示未定义的值，表示一个未初始化的变量。</li></ul></li><li><strong>引用类型</strong>：<ul><li><code>object</code>：用于存储键值对的集合。对象的键（属性）可以是字符串或符号，值可以是任何类型的数据，包括其它对象。</li><li><code>array</code>：用于存储有序列表的集合。数组的元素可以是任何类型的数据，包括其它数组。可以通过索引（从0开始）访问数组的元素。</li><li><code>function</code>：表示函数类型。函数在JavaScript中是”一等公民”，意味着函数可以作为变量的值，作为参数传递给其他函数，也可以作为返回值。</li><li>……</li></ul></li></ul><blockquote><p>使用<code>typeof</code>关键字可以获取变量的类型。</p><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"> <span class="title function_">alter</span>(<span class="keyword">typeof</span> a);</span><br></pre></td></tr></table></figure></div></blockquote><p><strong>5.运算符</strong>：</p><ul><li><strong>算术运算符</strong>：+，-，*，&#x2F;，%，++，–</li><li><strong>赋值运算符</strong>：&#x3D;，+&#x3D;，-&#x3D;，*&#x3D;，&#x2F;&#x3D;，%&#x3D;</li><li><strong>比较运算符</strong>：<mark>，!&#x3D;，<code>&lt;/mark&gt;=</code>，<code>!==</code>，&gt;，&lt;，&gt;&#x3D;，&lt;&#x3D;</mark></li><li><strong>逻辑运算符</strong>：&amp;&amp;，||，!</li><li><strong>三元运算符</strong>：条件表达式? true_value: false_value，</li></ul><blockquote><p><code>&lt;mark&gt;</code>与<code>&lt;/mark&gt;=</code>的区别：</p><ul><li><code>==</code>：比较两个值是否相等，忽略类型。【会进行类型转换】</li><li><code>===</code>：比较两个值是否相等，同时比较类型。【不会进行类型转换】</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="title function_">alter</span>(a == <span class="string">&quot;10&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="title function_">alter</span>(a === <span class="string">&quot;10&quot;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="title function_">alter</span>(a == <span class="number">10</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></div><p><strong>类型转换</strong>：</p><ul><li><strong>字符串类型转为数字</strong>：<ul><li>将字符串面值转为数字。如果字面值不是数字，则返回NaN。</li></ul></li><li><strong>其它类型转为boolean</strong>：<ul><li>Number：0和NAN为false，其它为true。</li><li>String：空字符串为false，其它为true。</li><li>Null和Undefined为false。</li></ul></li></ul></blockquote><p><strong>parseInt()</strong>：将字符串转为整数的函数。它的语法如下：</p><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(string, radix)</span><br></pre></td></tr></table></figure></div><ul><li><p><strong>string</strong>: 你想要解析的字符串。这个字符串的开头可以包含空格，但在遇到第一个无法转换为数字的字符时，<code>parseInt</code> 会停止解析并返回已经解析的部分。字符串中的非数字字符会导致解析停止。</p></li><li><p><strong>radix</strong>: 可选参数，表示进制数。它的值可以在 2 到 36 之间。如果不指定 <code>radix</code>，<code>parseInt</code> 会根据字符串的内容自动确定进制：</p><ul><li>如果字符串以 “0x” 或 “0X” 开头，<code>parseInt</code> 会将其视为 16 进制。</li><li>如果字符串以 “0” 开头，<code>parseInt</code> 会将其视为 8 进制（在老版本的 JavaScript 中，现代浏览器已经不再这么处理）。</li><li>否则，<code>parseInt</code> 会将其视为 10 进制。</li></ul></li></ul><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;42&quot;</span>);           <span class="comment">// 返回 42</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;101&quot;</span>, <span class="number">2</span>);       <span class="comment">// 返回 5 (二进制的 101 为十进制的 5)</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;0xF&quot;</span>, <span class="number">16</span>);      <span class="comment">// 返回 15 (16 进制的 F 为十进制的 15)</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>, <span class="number">8</span>);        <span class="comment">// 返回 8 (8 进制的 10 为十进制的 8)</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>, <span class="number">10</span>);       <span class="comment">// 返回 10 (十进制的 10 为十进制的 10)</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;abc123&quot;</span>);       <span class="comment">// 返回 NaN (因为 &quot;abc&quot; 不是数字)</span></span><br></pre></td></tr></table></figure></div><blockquote><p><strong>注意事项</strong></p><ul><li>如果 <code>string</code> 的第一个字符无法转换为数字，那么 <code>parseInt</code> 将返回 <code>NaN</code>。</li><li><code>NaN</code> (Not a Number) 是 JavaScript 中表示一个非数字的特殊值。</li><li>你可以使用 <code>isNaN()</code> 函数来检查 <code>parseInt</code> 的返回值是否是 <code>NaN</code>。</li></ul></blockquote><p><strong>6.流程控制语句</strong>：</p><ul><li><strong>if…else</strong>：用于条件判断。</li><li><strong>switch</strong>：用于多分支判断。</li><li><strong>for</strong>：用于循环。</li><li><strong>while</strong>：用于循环。</li><li><strong>do…while</strong>：用于循环。</li></ul><p><a class="link" target="_blank" rel="noopener" href="https://www.w3school.com.cn/jsref/jsref_statements.asp">参考官方文档<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p><h4 id="1-3-3-JS函数"><a href="#1-3-3-JS函数" class="headerlink" title="1.3.3 JS函数"></a>1.3.3 JS函数</h4><ul><li><strong>介绍</strong>：函数（方法）是被设计为执行特定任务的代码块。</li><li><strong>定义</strong>：JavaScript 函数通过 <code>function</code> 关键字来定义。语法为：<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一：</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">functionName</span>(<span class="params">parameter1, parameter2, ...</span>) &#123;</span><br><span class="line">  <span class="comment">// 要执行的代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 方式二：</span></span><br><span class="line"><span class="keyword">var</span> functionName = <span class="keyword">function</span>(<span class="params">parameter1, parameter2, ...</span>) &#123;</span><br><span class="line">  <span class="comment">// 要执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><strong>注意</strong>：<ul><li>形式参数不需要类型。因为JavaScript 是弱类型语言，参数类型由调用者决定。</li><li>函数可以返回值。如果函数没有返回值 或者 return 后没有跟随任何值，则返回 <code>undefined</code>。</li><li>返回值也不需要定义类型，可以在函数内部直接使用return返回值即可</li></ul></li><li><strong>调用</strong>：函数名称（实际参数列表）</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一：</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = <span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二：</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = <span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure></div><blockquote><p><strong>注意事项</strong>：<br>JS中，函数调用可以传递任意个数的参数。<font color="red">但只会截取需要的前几个</font></p></blockquote><h4 id="1-3-4-JS对象"><a href="#1-3-4-JS对象" class="headerlink" title="1.3.4 JS对象"></a>1.3.4 JS对象</h4><p><strong>1.Array</strong></p><ul><li><strong>介绍</strong>：JavaScript 数组是一种特殊的对象，用于存储多个值。</li><li><strong>定义</strong>：<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一：</span></span><br><span class="line"><span class="keyword">var</span> 变量名 = <span class="keyword">new</span> <span class="title class_">Array</span>(元素列表);</span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// 方式二：</span></span><br><span class="line"><span class="keyword">var</span> 变量名 = [元素列表];</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure></div></li><li><strong>赋值&#x2F;访问</strong>：<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr[索引] = 值;</span><br><span class="line">arr[<span class="number">10</span>] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="title function_">alter</span>(arr[<span class="number">10</span>]);<span class="comment">// 警告框输出hello</span></span><br></pre></td></tr></table></figure></div></li></ul><blockquote><p><strong>注意事项</strong>：<br>JavaScript 中的数组相当于 Java 中的集合，数组的长度是可变的，而JavaScript是弱类型，所以可以存储任意的类型的数据。</p><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arr[<span class="number">10</span>] = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">9</span>]); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">10</span>]); <span class="comment">// hello</span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">9</span>] = <span class="string">&quot;A&quot;</span>;</span><br><span class="line">arr[<span class="number">8</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); </span><br></pre></td></tr></table></figure></div></blockquote><ul><li><strong>属性</strong>：<ul><li><strong><code>length</code></strong>：表示数组中元素的数量。你可以读取这个属性来获取数组的长度，也可以设置它来改变数组的长度。<ul><li><strong>设置 <code>length</code></strong>：如果设置 <code>length</code> 为比当前长度小的值，数组将被截断。如果设置为更大的值，数组会用 <code>undefined</code> 填充新的位置。</li></ul></li></ul></li><li><strong>方法</strong>：<ul><li><strong><code>toString()</code></strong>：将数组转换为字符串，元素之间用逗号分隔。</li><li><strong><code>join(separator)</code></strong>：将数组转换为字符串，元素之间用指定的 <code>separator</code> 分隔。如果不提供 <code>separator</code>，则使用逗号作为默认分隔符。</li><li><strong><code>forEach(callback)</code></strong>：对数组中的每个元素执行一次提供的函数 <code>callback</code>。<code>callback</code> 接受三个参数：当前元素值、当前元素的索引、整个数组。<code>forEach</code> 不会改变原数组。</li><li><strong><code>push(element1, ..., elementN)</code></strong>：将一个或多个新元素添加到数组的末尾，并返回数组的新长度。</li><li><strong><code>splice(start, deleteCount, item1, ..., itemN)</code></strong>：用于在数组中添加或删除元素。<code>start</code> 是开始位置的索引，<code>deleteCount</code> 指定要删除的元素数量，<code>item1, ..., itemN</code> 是要添加的新元素。这个方法会直接修改原数组，并返回被删除的元素。</li></ul></li></ul><p><strong>代码示例：</strong></p><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个数组</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// length 属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>);  <span class="comment">// 输出: 3</span></span><br><span class="line">arr.<span class="property">length</span> = <span class="number">5</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);  <span class="comment">// 输出: [1, 2, 3, undefined, undefined]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// toString() 方法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">toString</span>());  <span class="comment">// 输出: &quot;1,2,3,,&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// join() 方法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">join</span>(<span class="string">&#x27;-&#x27;</span>));  <span class="comment">// 输出: &quot;1-2-3--&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// forEach() 方法</span></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">element, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Index <span class="subst">$&#123;index&#125;</span>: <span class="subst">$&#123;element&#125;</span>`</span>); <span class="comment">// 或者 console.log(&quot;Index &quot; + index + &quot;: &quot; + element);</span></span><br><span class="line">  <span class="comment">// $&#123;&#125; 是模板字符串（template literals）中的一种语法，用于在字符串中插入变量或表达式的值。模板字符串使用反引号（`）括起来，并允许在字符串中嵌入表达式。</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 输出:</span></span><br><span class="line"><span class="comment">// Index 0: 1</span></span><br><span class="line"><span class="comment">// Index 1: 2</span></span><br><span class="line"><span class="comment">// Index 2: 3</span></span><br><span class="line"><span class="comment">// Index 3: undefined</span></span><br><span class="line"><span class="comment">// Index 4: undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// push() 方法</span></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">6</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);  <span class="comment">// 输出: [1, 2, 3, undefined, undefined, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// splice() 方法</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);  <span class="comment">// 输出: [1, 2, &quot;a&quot;, &quot;b&quot;, undefined, 6]</span></span><br></pre></td></tr></table></figure></div><blockquote><p>箭头函数(ES6)：是用来简化函数定义语法的，具体形式为：(……) &#x3D;&gt; {…}，如果需要给箭头函数起名字：var func &#x3D; (……) &#x3D;&gt; {…}</p></blockquote><p><strong>2.String</strong></p><ul><li><p><strong>介绍</strong>：JavaScript 字符串是一种特殊类型的对象，用于存储和操作文本。</p></li><li><p><strong>定义</strong>：</p><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一：</span></span><br><span class="line"><span class="keyword">var</span> 变量名 = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;……&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line"><span class="comment">// 方式二：</span></span><br><span class="line"><span class="keyword">var</span> 变量名 = <span class="string">&quot;……&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;Hello, World!&quot;</span>;</span><br></pre></td></tr></table></figure></div></li><li><p><strong>属性</strong>：</p><ul><li><strong><code>length</code></strong>：返回字符串的长度，表示字符串中字符的个数。</li></ul></li><li><p><strong>方法</strong>：</p><ul><li><strong><code>charAt(index)</code></strong>：返回指定位置的字符。<code>index</code> 从 0 开始计算。</li><li><strong><code>indexOf(substring)</code></strong>：返回子字符串在字符串中第一次出现的位置，如果没有找到，则返回 <code>-1</code>。</li><li><strong><code>trim()</code></strong>：去除字符串两边的空格（包括换行符和制表符）。</li><li><strong><code>substring(startIndex, endIndex)</code></strong>：提取字符串中从 <code>startIndex</code> 到 <code>endIndex</code> 之间的字符，<code>endIndex</code> 处的字符不包括在内。【包左不包右】</li></ul></li></ul><p><strong>代码示例：</strong></p><div class="code-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// length 属性</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="property">length</span>);  <span class="comment">// 输出: 13</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// charAt() 方法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">charAt</span>(<span class="number">7</span>));  <span class="comment">// 输出: &quot;w&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// indexOf() 方法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">indexOf</span>(<span class="string">&quot;world&quot;</span>));  <span class="comment">// 输出: 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">indexOf</span>(<span class="string">&quot;foo&quot;</span>));    <span class="comment">// 输出: -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// trim() 方法</span></span><br><span class="line"><span class="keyword">let</span> strWithSpaces = <span class="string">&quot;   Hello, world!   &quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(strWithSpaces.<span class="title function_">trim</span>());  <span class="comment">// 输出: &quot;Hello, world!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// substring() 方法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">5</span>));  <span class="comment">// 输出: &quot;Hello&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(<span class="number">7</span>, <span class="number">12</span>)); <span class="comment">// 输出: &quot;world&quot;</span></span><br></pre></td></tr></table></figure></div><p><strong>3.自定义对象</strong></p><ul><li><strong>介绍</strong>：JavaScript 中的对象是一种复杂的数据类型，可以包含多个属性和方法。</li><li><strong>定义</strong>：<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* var 对象名 = &#123;</span></span><br><span class="line"><span class="comment">    属性名1: 值1,</span></span><br><span class="line"><span class="comment">    属性名2: 值2,</span></span><br><span class="line"><span class="comment">    属性名3: 值3,</span></span><br><span class="line"><span class="comment">    函数名称：function(参数列表) &#123;&#125; ,可以省略&quot;：function&quot;</span></span><br><span class="line"><span class="comment">&#125;; */</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;Male&quot;</span>,</span><br><span class="line">  <span class="attr">eat</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;             <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Eating...&quot;</span>);   ==      <span class="title function_">alert</span>(<span class="string">&quot;Eating...&quot;</span>);</span><br><span class="line">  &#125;                             &#125;    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></li><li><strong>调用</strong>：<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 对象名.属性名;</span></span><br><span class="line"><span class="comment">对象名.方法名(); */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>);</span><br><span class="line">person.<span class="title function_">eat</span>();</span><br></pre></td></tr></table></figure></div></li></ul><p><strong>4.JSON</strong></p><ul><li><strong>介绍</strong>：<ul><li>JSON是通过JavaScript对象标记法书写的文本。</li><li>JSON（JavaScript Object Notation）是一种轻量级的数据交换格式，主要用于在网络传输数据。</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&quot;Male&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810004428.png"></p></li><li><strong>定义</strong>：<div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 = <span class="string">&#x27;&#123;&quot;属性名1&quot;:&quot;值1&quot;,&quot;属性名2&quot;:&quot;值2&quot;,&quot;属性名3&quot;:&quot;值3&quot;&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> person = <span class="string">&#x27;&#123;&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;gender&quot;:&quot;Male&quot;,&quot;addr&quot;:[&quot;北京&quot;,&quot;上海&quot;,&quot;广州&quot;]&#125;&#x27;</span>;</span><br></pre></td></tr></table></figure></div>值的数据类型为：<ul><li>数字（整数或浮点数）</li><li>字符串（在双引号中）</li><li>逻辑值（true 或 false）</li><li>数组（在方括号中）</li><li>对象（在花括号中）</li><li>null</li></ul></li><li><strong>方法</strong>：<ul><li><strong><code>JSON.parse(json)</code></strong>：将 JSON 字符串转换为 JavaScript 对象。</li><li><strong><code>JSON.stringify(obj)</code></strong>：将 JavaScript 对象转换为 JSON 字符串。</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsObject = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(person);</span><br><span class="line"><span class="keyword">var</span> jsonStr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(jsObject);</span><br></pre></td></tr></table></figure></div></li></ul><p><strong>5.BOM</strong></p><ul><li><strong>介绍</strong>：BOM（Browser Object Model）是浏览器对象模型的缩写，它提供了与浏览器窗口交互的接口。JavaScript 将浏览器的各个组成部分封装为对象。</li><li><strong>组成</strong>：<ul><li><strong><code>Window</code></strong>：浏览器窗口对象</li><li><strong><code>Navigator</code></strong>：浏览器信息对象</li><li><strong><code>Screen</code></strong>：屏幕信息对象</li><li><strong><code>History</code></strong>：历史记录对象</li><li><strong><code>Location</code></strong>：地址栏对象</li></ul></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810005713.png"></p><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="string">&quot;Hello BOM&quot;</span>);</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;Hello BOM Window&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法</span></span><br><span class="line"><span class="comment">// confirm - 对话框 -- 确认: true，取消: false</span></span><br><span class="line"><span class="keyword">var</span> flag = <span class="title function_">confirm</span>(<span class="string">&quot;您确认删除该记录吗？&quot;</span>);</span><br><span class="line"><span class="title function_">alert</span>(flag);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定时器 - setInterval -- 周期性地执行某个函数</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;定时器执行了&quot;</span> + i + <span class="string">&quot;次&quot;</span>);</span><br><span class="line">&#125;, <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定时器 - setTimeout -- 延迟指定时间执行一次</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;JS&quot;</span>);</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure></div><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810005918.png"></p><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// location</span></span><br><span class="line"><span class="title function_">alter</span>(location.<span class="property">href</span>);</span><br><span class="line">location.<span class="property">href</span> = <span class="string">&quot;https://www.baidu.com&quot;</span>;</span><br></pre></td></tr></table></figure></div><p><strong>6.DOM</strong><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810010120.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810010134.png"></p><ul><li>HTML中的Element对象可以通过<code>Document</code>对象获取，而<code>Document</code>对象可以通过<code>window</code>对象获取。</li><li><code>Document</code>对象中提供了以下获取Element元素对象的函数：<ul><li><strong><code>getElementById(id)</code></strong>：根据元素的id属性值获取元素对象，返回单个Element对象。</li><li><strong><code>getElementsByTagName(tagName)</code></strong>：根据元素的标签名获取元素对象，返回一个Element对象的<font color="red">数组</font>。</li><li><strong><code>getElementsByName(name)</code></strong>：根据元素的name属性值获取元素对象，返回一个Element对象的<font color="red">数组</font>。</li><li><strong><code>getElementsByClassName(className)</code></strong>：根据元素的class属性值获取元素对象，返回一个Element对象的<font color="red">数组</font>。</li></ul><div class="code-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根据元素的id属性值</span></span><br><span class="line"><span class="keyword">var</span> h1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;h1&#x27;</span>);</span><br><span class="line"><span class="comment">// 根据元素的标签名</span></span><br><span class="line"><span class="keyword">var</span> divs = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="comment">// 根据元素的name属性值</span></span><br><span class="line"><span class="keyword">var</span> hobbys = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&#x27;hobby&#x27;</span>);</span><br><span class="line"><span class="comment">// 根据元素的class属性值</span></span><br><span class="line"><span class="keyword">var</span> clss = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;cls&#x27;</span>);</span><br></pre></td></tr></table></figure></div></li></ul><p><strong>7.事件监听</strong></p><ul><li><strong>介绍</strong>：JavaScript 事件是发生在 HTML 元素上的交互行为，如鼠标点击、键盘按键等。</li><li><strong>事件监听</strong>：JavaScript可以在事件被侦测到时<strong>执行代码</strong>。</li><li><strong>事件绑定</strong>：<ul><li>方式一：通过HTML标签中的事件属性进行绑定</li></ul><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;on()&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">on</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&quot;按钮被点击了&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li>方式二：通过DOM元素属性绑定</li></ul><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;按钮&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(<span class="string">&quot;按钮被点击了&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810011318.png"></p><h3 id="1-4-Vue"><a href="#1-4-Vue" class="headerlink" title="1.4 Vue"></a>1.4 Vue</h3><ul><li>Vue是一套<strong>前端框架</strong>，，免除原生JavaScript中的DOM操作，简化书写。</li><li>基于<strong>MVVM</strong>（Model-View-ViewModel）思想，实现数据的<strong>双向绑定</strong>，将编程的关注点放在数据上。</li><li>官网：<a class="link" target="_blank" rel="noopener" href="https://cn.vuejs.org/">https://cn.vuejs.org/<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810121232.png"><blockquote><p>框架：是一个半成品软件，是一套可重用的、通用的、软件基础代码模型。基于框架进行开发，更加快捷，高效。</p></blockquote></li></ul><h4 id="1-4-1-快速入门"><a href="#1-4-1-快速入门" class="headerlink" title="1.4.1 快速入门"></a>1.4.1 快速入门</h4><ul><li>新建HTML文件，引入Vue.js文件：<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li>在JS代码区域，创建Vue核心对象，定义数据类型<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;Hello Vue!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li>编写视图<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><blockquote><p><strong>插值表达式：</strong></p><ul><li><strong>形式</strong>：<code>&#123;&#123; 表达式 &#125;&#125;</code></li><li><strong>作用</strong>：将数据绑定到视图中</li><li><strong>内容</strong>：变量、三元运算符、函数调用 或 算术运算</li></ul></blockquote></li></ul><h4 id="1-4-2-常用指令"><a href="#1-4-2-常用指令" class="headerlink" title="1.4.2 常用指令"></a>1.4.2 常用指令</h4><ul><li><strong>指令</strong>：HTML标签上带有<code>v-</code>前缀的特殊属性，不同指令具有不同含义。</li><li><strong>常用指令</strong>：</li></ul><table><thead><tr><th>指令</th><th>用途</th><th>语法</th></tr></thead><tbody><tr><td><code>v-bind</code></td><td>动态地绑定一个或多个特性（attributes）到一个元素上，如设置href、css样式等</td><td><code>v-bind:attribute=&quot;expression&quot;</code> （简写：<code>:</code>）</td></tr><tr><td><code>v-model</code></td><td>创建一个双向数据绑定，通常用于表单元素</td><td><code>v-model=&quot;dataProperty&quot;</code></td></tr><tr><td><code>v-if</code></td><td>条件渲染，根据表达式的真假条件<code>有选择地渲染元素</code></td><td><code>v-if=&quot;condition&quot;</code></td></tr><tr><td><code>v-else-if</code></td><td>条件渲染，用于在 <code>v-if</code> 之外添加条件</td><td><code>v-else-if=&quot;condition&quot;</code></td></tr><tr><td><code>v-else</code></td><td>条件渲染，当所有 <code>v-if</code> 和 <code>v-else-if</code> 的条件都不满足时渲染元素</td><td><code>v-else</code></td></tr><tr><td><code>v-show</code></td><td>基于条件展示元素，<code>元素总是被渲染</code>，只是简单地控制元素的显示和隐藏（<code>display: none</code>）</td><td><code>v-show=&quot;condition&quot;</code></td></tr><tr><td><code>v-for</code></td><td>基于一个数组或对象的迭代渲染一个列表。对于数组，可以获取每个元素的值和下标；对于对象，可以获取每个键值对的键和值。</td><td><code>v-for=&quot;item in items&quot;</code></td></tr><tr><td><code>v-on</code></td><td>监听DOM事件，并在事件发生时执行指定的JavaScript表达式或方法</td><td><code>v-on:event=&quot;handler&quot;</code>（简写：<code>@</code>）</td></tr><tr><td><code>v-cloak</code></td><td>避免Vue实例接管模板前闪烁的内容（通常配合CSS使用）</td><td>无表达式</td></tr><tr><td><code>v-pre</code></td><td>跳过这个元素和它的所有子元素的编译过程，以加快初次渲染速度</td><td>无表达式</td></tr><tr><td><code>v-once</code></td><td>只渲染元素和组件一次，之后就不会再更新</td><td>无表达式</td></tr><tr><td><code>v-html</code></td><td>输出原始的HTML，不进行HTML转义（小心XSS攻击）</td><td><code>v-html=&quot;htmlContent&quot;</code></td></tr></tbody></table><p><strong>代码示例</strong></p><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- v-bind 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 简写 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-model 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter something&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-if / v-else-if / v-else 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;age &lt;= 35&quot;</span>&gt;</span>年轻人<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else-if</span>=<span class="string">&quot;age &gt; 35 &amp;&amp; age &lt;= 60&quot;</span>&gt;</span>中年人<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>老年人<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-show 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;age &lt;= 35&quot;</span>&gt;</span>年轻人<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-for 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span>&#123;&#123; item.text &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in items&quot;</span> &gt;</span>&#123;&#123; index+1 &#125;&#125; : &#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-on 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">v-on:click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 简写 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span>Click me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">doSomething</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&#x27;Button clicked!&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- v-cloak 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">  &#123;&#123; message &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-attr">[v-cloak]</span> &#123; <span class="attribute">display</span>: none; &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-pre 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-pre</span>&gt;</span>&#123;&#123; raw &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-once 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-html 示例 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-html</span>=<span class="string">&quot;rawHtml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><blockquote><p><strong>注意事项</strong>：</p><ul><li>通过<code>v-bind</code>或者<code>v-model</code>绑定的变量，必须在数据模型中声明</li></ul></blockquote><h4 id="1-4-3-生命周期"><a href="#1-4-3-生命周期" class="headerlink" title="1.4.3 生命周期"></a>1.4.3 生命周期</h4><ul><li><strong>生命周期</strong>：指一个对象从创建到销毁的整个过程。</li><li><strong>八个阶段</strong>：每触发一个生命周期事件，会自动执行一个生命周期方法(钩子)。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810134011.png"></li><li><strong>mounted</strong>：挂载完成，Vue初始化成功，HTML页面渲染成功。（发送请求到服务端，加载数据）<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810133326.png"></li></ul><h3 id="1-5-Ajax"><a href="#1-5-Ajax" class="headerlink" title="1.5 Ajax"></a>1.5 Ajax</h3><ul><li><p><strong>概念</strong>：<code>Ajax</code> 是 <code>Asynchronous JavaScript and XML</code> 的缩写，表示异步的 JavaScript 和 XML。它是一种用于在不重新加载整个网页的情况下，进行数据交换并更新网页部分内容的技术。Ajax 通常利用 <code>XMLHttpRequest</code> 对象来发送和接收数据，但它并不仅限于 XML，现代应用中也常用 JSON 格式进行数据交换。</p></li><li><p><strong>作用</strong>：</p><ul><li><strong>数据交换</strong>：通过 Ajax 可以与服务器进行数据交互，发送请求并接收响应数据，而不需要刷新整个页面。</li><li><strong>异步交互</strong>：Ajax 允许网页在后台与服务器进行数据交换，从而在不刷新整个页面的情况下动态更新页面的部分内容。常见的应用场景包括：搜索联想、表单验证（如用户名是否可用）、自动加载更多内容等。</li></ul></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810153628.png"></p><blockquote><p><strong>进一步说明</strong></p><ul><li>虽然 <code>Ajax</code> 中的 <code>XML</code> 表示可使用 XML 进行数据交换，但现代开发中更多使用 JSON 作为数据交换格式，因为 JSON 更轻量且更易于 JavaScript 解析。</li><li>Ajax 的核心是 <code>XMLHttpRequest</code> 对象，但在现代开发中，<code>fetch</code> API 也经常用来实现类似的异步数据交互功能。</li></ul></blockquote><ul><li><p><strong>异步VS同步</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810153824.png"></p></li><li><p><strong>Ajax请求流程</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810153934.png"></p></li><li><p><strong>XMLHttpRequest对象属性</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810154050.png"></p></li></ul><h3 id="1-6-Axios"><a href="#1-6-Axios" class="headerlink" title="1.6 Axios"></a>1.6 Axios</h3><ul><li><p><strong>概念</strong>：Axios对原生的Ajax进行了封装，简化书写，快速开发。</p></li><li><p><strong>官网</strong>：<a class="link" target="_blank" rel="noopener" href="https://www.axios-http.cn/">https://www.axios-http.cn/<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p></li><li><p><strong>请求方式别名</strong>：</p><ul><li><code>axios.get(url [,config])</code></li><li><code>axios.delete(url [,config])</code></li><li><code>axios.post(url [,data[,config]])</code></li><li><code>axios.put(url [,data[,config]])</code></li></ul></li><li><p><strong>入门示例</strong>：</p><ul><li><strong>1.引入Axios的js文件</strong></li></ul><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li><strong>2.使用Axios发送请求，并获取响应结果</strong></li></ul><div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&quot;https://api.example.com/data&quot;).then((result) =&gt; &#123;</span><br><span class="line">  console.log(result.data);</span><br><span class="line">&#125;)// 处理响应结果</span><br><span class="line"></span><br><span class="line">axios.post(&quot;https://api.example.com/data&quot;,&quot;id=1&quot;).then((result) =&gt; &#123;</span><br><span class="line">  console.log(result.data);</span><br><span class="line">&#125;)// 处理响应结果     </span><br></pre></td></tr></table></figure></div></li></ul><h3 id="1-7-Vue项目"><a href="#1-7-Vue项目" class="headerlink" title="1.7 Vue项目"></a>1.7 Vue项目</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810155548.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810155629.png"></p><h3 id="1-8-Element组件"><a href="#1-8-Element组件" class="headerlink" title="1.8 Element组件"></a>1.8 Element组件</h3><ul><li><strong>概念</strong>：是饿了么团队开发的，一套为开发者、设计师和产品经理准备的基于Vue2.0的桌面端组件库。</li><li><strong>组件</strong>：组成网页的部件，例如 超链接、按钮、图片、表格、表单、分页条等。</li><li><strong>官网</strong>：<a class="link" target="_blank" rel="noopener" href="https://element.eleme.cn/">https://element.eleme.cn/<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li></ul><p><strong>快速入门</strong>：</p><ul><li>安装ElementUI组件库（在当前工程的目录下），在命令行执行指令：<div class="code-container" data-rel="Cmd"><figure class="iseeu highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-ui@<span class="number">2</span>.<span class="number">15</span>.<span class="number">6</span> </span><br></pre></td></tr></table></figure></div></li><li>引入ElementUI组件库<div class="code-container" data-rel="Html"><figure class="iseeu highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// main.js文件中引入</span><br><span class="line">import ElementUI from &#x27;element-ui&#x27;;</span><br><span class="line">import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span><br><span class="line"></span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure></div></li><li>访问官网，复制组件代码并调整。</li></ul><h2 id="2-Maven"><a href="#2-Maven" class="headerlink" title="2.Maven"></a>2.Maven</h2><h3 id="2-1-介绍"><a href="#2-1-介绍" class="headerlink" title="2.1 介绍"></a>2.1 介绍</h3><ul><li><strong>概念</strong>：Apache Maven 是一个项目管理和构建工具，用于管理项目的构建、报告和文档。它基于项目对象模型（POM）的概念，通过一小段描述信息来管理项目的构建。</li><li><strong>作用</strong>：<ul><li>方便的依赖管理</li><li>统一的项目结构</li><li>标准的项目构建流程</li></ul></li><li><strong>官网</strong>：<a class="link" target="_blank" rel="noopener" href="https://maven.apache.org/">https://maven.apache.org/<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810204935.png"></p><h3 id="2-2-Maven坐标"><a href="#2-2-Maven坐标" class="headerlink" title="2.2 Maven坐标"></a>2.2 Maven坐标</h3><ul><li><strong>概念</strong>：<ul><li>Maven中的坐标是<font color="red">资源的唯一标识，通过该坐标可以唯一定位资源位置</font>。</li><li>使用坐标来定义项目或者引入项目中需要的依赖。</li></ul></li><li><strong>主要组成</strong>：<ul><li><strong><code>groupId</code></strong>：定义当前Maven项目隶属组织名称（通常是域名反写，例如：ink.lusy）</li><li><strong><code>artifactId</code></strong>：定义当前Maven项目名称（通常是模块名，例如：order-service、goods-service）</li><li><strong><code>version</code></strong>：定义当前Maven项目版本号（例如：1.0.0）</li></ul></li></ul><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ink.lusy<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-project01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h3 id="2-3-依赖配置"><a href="#2-3-依赖配置" class="headerlink" title="2.3 依赖配置"></a>2.3 依赖配置</h3><ul><li><strong>依赖</strong>：指当前项目运行所需要的jar包，一个项目中可以引入多个依赖。</li><li><strong>配置</strong>：<ul><li>在pom.xml文件中编写<code>&lt;dependencies&gt;</code>标签</li><li>在<code>&lt;dependencies&gt;</code>标签中使用<code>&lt;dependency&gt;</code>引入坐标</li><li>定义坐标的<code>groupId</code>、<code>artifactId</code>、<code>version</code></li><li>点击刷新按钮，引入最新加入的坐标<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810210505.png"></li></ul></li></ul><blockquote><p><strong>注意事项</strong>：</p><ul><li>如果引入的依赖，在本地仓库不存在，将会连接远程仓库&#x2F;中央仓库，然后下载依赖。</li><li>如果不知道依赖的坐标信息，可以到<a class="link" target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com/<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a>中搜索。</li></ul></blockquote><h3 id="2-4-依赖传递"><a href="#2-4-依赖传递" class="headerlink" title="2.4 依赖传递"></a>2.4 依赖传递</h3><ul><li><strong>依赖具有传递性</strong><ul><li><strong>直接依赖</strong>：在当前项目中通过依赖配置建立的依赖关系</li><li><strong>间接依赖</strong>：被依赖的资源如果依赖其它资源，当前项目间接依赖了被依赖的资源<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810211620.png"></li></ul></li><li><strong>依赖冲突</strong>：当依赖传递时，如果存在多个依赖，且依赖的版本号不同，则存在依赖冲突。<br>当直接引用或者间接引用出现了相同的jar包! 这时呢，一个项目就会出现相同的重复jar包，这就算作冲突！依赖冲突避免出现重复依赖，并且终止依赖传递！<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240819174427.png"><br>maven自动解决依赖冲突问题能力，会按照自己的原则，进行重复依赖选择。同时也提供了手动解决的冲突的方式，不过不推荐！<br><strong>解决依赖冲突（如何选择重复依赖）方式：</strong><ul><li>短路优先原则（第一原则）<br>A—&gt;B—&gt;C—&gt;D—&gt;E—&gt;X(version 0.0.1)<br>A—&gt;F—&gt;X(version 0.0.2)<br>则A依赖于X(version 0.0.2)。</li><li>依赖路径长度相同情况下，则“先声明优先”（第二原则）<br>A—&gt;E—&gt;X(version 0.0.1)<br>A—&gt;F—&gt;X(version 0.0.2)<br>在&lt;depencies&gt;\……中，先声明的，路径相同，会优先选择！</li></ul></li></ul><p><strong>小测试</strong>：</p><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">前提：</span><br><span class="line">   A 1.1 -&gt; B 1.1 -&gt; C 1.1 </span><br><span class="line">   F 2.2 -&gt; B 2.2 </span><br><span class="line">   </span><br><span class="line">pom声明：</span><br><span class="line">   F 2.2</span><br><span class="line">   A 1.1 </span><br><span class="line">   B 2.2 </span><br><span class="line">   C不会被引入</span><br></pre></td></tr></table></figure></div><ul><li><strong>排除依赖</strong>：当依赖传递时，如果存在依赖冲突，可以通过<code>&lt;exclusions&gt;</code>标签，排除依赖。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810211807.png"></li><li><strong>依赖范围</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810211843.png"></li></ul><h3 id="2-5-生命周期"><a href="#2-5-生命周期" class="headerlink" title="2.5 生命周期"></a>2.5 生命周期</h3><p>Maven的生命周期就是为了对所有的maven项目构建过程进行抽象和统一。<br>Maven中有3套<font color="red">相互独立</font>的生命周期：</p><ul><li><strong>clean</strong>：清理项目</li><li><strong>default</strong>：核心工作，包含编译、测试、打包、部署等操作</li><li><strong>site</strong>：生成报告、发布站点等。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810212415.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810212739.png"><br><strong>执行指定生命周期的两种方式</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810212837.png"></li></ul><h3 id="2-6-项目结构"><a href="#2-6-项目结构" class="headerlink" title="2.6 项目结构"></a>2.6 项目结构</h3><p>Maven 是一个强大的构建工具，它提供一种标准化的项目结构，可以帮助开发者更容易地管理项目的依赖、构建、测试和发布等任务。以下是 Maven Web 程序的文件结构及每个文件的作用：</p><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">|-- pom.xml                               # Maven 项目管理文件 </span><br><span class="line">|-- src</span><br><span class="line">    |-- main                              # 项目主要代码</span><br><span class="line">    |   |-- java                          # Java 源代码目录</span><br><span class="line">    |   |   `-- com/example/myapp         # 开发者代码主目录</span><br><span class="line">    |   |       |-- controller            # 存放 Controller 层代码的目录</span><br><span class="line">    |   |       |-- service               # 存放 Service 层代码的目录</span><br><span class="line">    |   |       |-- dao                   # 存放 DAO 层代码的目录</span><br><span class="line">    |   |       `-- model                 # 存放数据模型的目录</span><br><span class="line">    |   |-- resources                     # 资源目录，存放配置文件、静态资源等</span><br><span class="line">    |   |   |-- log4j.properties          # 日志配置文件</span><br><span class="line">    |   |   |-- spring-mybatis.xml        # Spring Mybatis 配置文件</span><br><span class="line">    |   |   `-- static                    # 存放静态资源的目录</span><br><span class="line">    |   |       |-- css                   # 存放 CSS 文件的目录</span><br><span class="line">    |   |       |-- js                    # 存放 JavaScript 文件的目录</span><br><span class="line">    |   |       `-- images                # 存放图片资源的目录</span><br><span class="line">    |   `-- webapp                        # 存放 WEB 相关配置和资源</span><br><span class="line">    |       |-- WEB-INF                   # 存放 WEB 应用配置文件</span><br><span class="line">    |       |   |-- web.xml               # Web 应用的部署描述文件</span><br><span class="line">    |       |   `-- classes               # 存放编译后的 class 文件</span><br><span class="line">    |       `-- index.html                # Web 应用入口页面</span><br><span class="line">    `-- test                              # 项目测试代码</span><br><span class="line">        |-- java                          # 单元测试目录</span><br><span class="line">        `-- resources                     # 测试资源目录</span><br></pre></td></tr></table></figure></div><ul><li><strong>pom.xml</strong>：Maven 项目管理文件，用于描述项目的依赖和构建配置等信息。</li><li><strong>src&#x2F;main&#x2F;java</strong>：存放项目的 Java 源代码。</li><li><strong>src&#x2F;main&#x2F;resources</strong>：存放项目的资源文件，如配置文件、静态资源等。</li><li><strong>src&#x2F;main&#x2F;webapp&#x2F;WEB-INF</strong>：存放 Web 应用的配置文件。</li><li><strong>src&#x2F;main&#x2F;webapp&#x2F;index.html</strong>：Web 应用的入口页面。</li><li><strong>src&#x2F;test&#x2F;java</strong>：存放项目的测试代码。</li><li><strong>src&#x2F;test&#x2F;resources</strong>：存放测试相关的资源文件，如测试配置文件等。</li></ul><h2 id="3-HTTP"><a href="#3-HTTP" class="headerlink" title="3.HTTP"></a>3.HTTP</h2><h3 id="3-1-概念"><a href="#3-1-概念" class="headerlink" title="3.1 概念"></a>3.1 概念</h3><p>HTTP（Hypertext Transfer Protocol，超文本传输协议）是一种用于传输超文本信息的协议。规定了浏览器和服务器之间数据传输的规则。</p><h3 id="3-2特点"><a href="#3-2特点" class="headerlink" title="3.2特点"></a>3.2特点</h3><ul><li><strong>基于TCP协议</strong>：面向连接，安全。</li><li><strong>基于请求-响应模型</strong>：一次请求对应一次响应。</li><li><strong>无状态</strong>：对于事务处理没有记忆能力。每次请求-响应都独立的，没有保存信息。<ul><li>缺点：多次请求间不能共享数据。</li><li>优点：速度快</li></ul></li></ul><h3 id="3-2-请求数据格式"><a href="#3-2-请求数据格式" class="headerlink" title="3.2 请求数据格式"></a>3.2 请求数据格式</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142141.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142211.png"></p><h3 id="3-3响应数据格式"><a href="#3-3响应数据格式" class="headerlink" title="3.3响应数据格式"></a>3.3响应数据格式</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142427.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142452.png"></p><p><strong>常见的响应状态码</strong></p><table><thead><tr><th>状态码</th><th>英文描述</th><th>解释</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>客户端请求成功。即<strong>处理成功</strong>，这是我们最想看到的状态码</td></tr><tr><td>302</td><td>Found</td><td>指示所请求的资源已移动到由<code>Location</code>响应头给定的 URL，浏览器会自动重新访问到这个页面</td></tr><tr><td>304</td><td>Not Modified</td><td>告诉客户端，你请求的资源至上次取得后，服务器并未改。你直接用你本地缓存吧。隐式重定向</td></tr><tr><td>400</td><td>Bad Request</td><td>客户端请求有<strong>语法错误</strong>，不能被服务器所理解</td></tr><tr><td>403</td><td>Forbidden</td><td>服务器收到请求，但是<strong>拒绝提供服务</strong>，比如：没有权限访问相关资源</td></tr><tr><td>404</td><td>Not Found</td><td><strong>请求资源不存在</strong>。一般是URL输入有误，或者网站资源被删除了</td></tr><tr><td>405</td><td>Method Not Allowed</td><td>请求方法有误，比如本应用GET请求方式的资源，用了POST</td></tr><tr><td>428</td><td>Precondition Required</td><td><strong>服务器要求有条件的请求</strong>，告诉客户端需要访问该资源，必须携带特定的请求头</td></tr><tr><td>429</td><td>Too Many Requests</td><td>用户在给定时间内发送了<strong>太多请求</strong>（“限速”），配合<code>Retry-After</code>（多长时间后可以请求）响应头一起使用</td></tr><tr><td>431</td><td>Request Header Fields Too Large</td><td><strong>请求头太大</strong>。服务器不愿意处理请求，因为它的头字段太大。请求可以在减少请求头域的大小后重新提交。</td></tr><tr><td>500</td><td>Internal Server Error</td><td><strong>服务器发生不可预期的错误</strong>。服务器出异常了，赶紧看日志去吧</td></tr><tr><td>503</td><td>Service Unavailable</td><td><strong>服务器尚未准备好处理请求</strong>。服务器刚启动，还未初始化好</td></tr></tbody></table><h3 id="3-4-接收请求头数据"><a href="#3-4-接收请求头数据" class="headerlink" title="3.4 接收请求头数据"></a>3.4 接收请求头数据</h3><p>可以使用<b><code>@RequestHeader</code></b>注解将请求标头绑定到控制器中的方法参数。</p><p>请考虑以下带有标头的请求：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host                    localhost:<span class="number">8080</span></span><br><span class="line">Accept                  text/html,application/xhtml+xml,application/xml;q=<span class="number">0.9</span></span><br><span class="line">Accept-Language         fr,en-gb;q=<span class="number">0.7</span>,en;q=<span class="number">0.3</span></span><br><span class="line">Accept-Encoding         gzip,deflate</span><br><span class="line">Accept-Charset          ISO-<span class="number">8859</span>-<span class="number">1</span>,utf-<span class="number">8</span>;q=<span class="number">0.7</span>,*;q=<span class="number">0.7</span></span><br><span class="line">Keep-Alive              <span class="number">300</span></span><br></pre></td></tr></table></figure></div><p>下面的示例获取 <code>Accept-Encoding</code> 和 <code>Keep-Alive</code> 标头的值：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/demo&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">(</span></span><br><span class="line"><span class="params">  // encoding: gzip,deflate</span></span><br><span class="line"><span class="params">  // keepAlive: <span class="number">300</span></span></span><br><span class="line"><span class="params">    <span class="meta">@RequestHeader(&quot;Accept-Encoding&quot;)</span> String encoding, </span></span><br><span class="line"><span class="params">    <span class="meta">@RequestHeader(&quot;Keep-Alive&quot;)</span> <span class="type">long</span> keepAlive)</span> &#123; </span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="4-Tomcat"><a href="#4-Tomcat" class="headerlink" title="4.Tomcat"></a>4.Tomcat</h2><h3 id="4-1-概念"><a href="#4-1-概念" class="headerlink" title="4.1 概念"></a>4.1 概念</h3><ul><li>Tomcat是Apache软件基金会一个核心项目，是一个开源免费的轻量级Web服务器，支持Servlet&#x2F;JSP和少量JavaEE规范。</li><li>Tomcat也称为Web容器、Servlet容器。Servlet程序需要tomcat才能运行。</li><li><a class="link" target="_blank" rel="noopener" href="https://tomcat.apache.org/">https://tomcat.apache.org/<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li></ul><blockquote><p>JavaEE：Java企业级应用环境,指Java企业级开发的技术规范总和。包含13项技术规范：JDBC、JNDI、EJB、RMI、JSP、Servlet、XML、JMS、Java IDL、JTS、JTA、JavaMail、JAF</p></blockquote><h3 id="4-2-基本使用"><a href="#4-2-基本使用" class="headerlink" title="4.2 基本使用"></a>4.2 基本使用</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811144025.png"></p><ul><li>配置Tomcat端口号 (conf&#x2F;server.xml)</li></ul><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector port=<span class="string">&quot;8080&quot;</span> protocol=<span class="string">&quot;HTTP/1.1&quot;</span></span><br><span class="line">             connectionTimeout=<span class="string">&quot;20000&quot;</span></span><br><span class="line">             redirectPort=<span class="string">&quot;8443&quot;</span> /&gt;</span><br></pre></td></tr></table></figure></div><blockquote><p>HTTP协议默认端口号为80，如果将Tomcat端口号改为80，则将来访问Tomcat时，将不用输入端口号。</p></blockquote><ul><li>Tomcat部署项目：<br>将项目放置到webapps目录下，即部署完成</li></ul><blockquote><p>基于SpringBoot开发的web应用程序，内置了Tomcat服务器，当启动类运行时，会自动启动内嵌的Tomcat服务器，无需手动配置。</p></blockquote><h2 id="5-请求响应"><a href="#5-请求响应" class="headerlink" title="5.请求响应"></a>5.请求响应</h2><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811145530.png"></p><blockquote><p>请求响应：</p><ul><li>请求（HttpServletRequest）：获取请求数据</li><li>响应（HttpServletResponse）：设置响应数据<br><strong>BS架构</strong>：Browser-Server架构，浏览器向服务器发送请求，服务器处理请求，返回响应，浏览器接收响应，解析响应数据。客户端只需要浏览器，应用程序的逻辑和数据都存储在服务端。（维护方便 ，体验一般）<br><strong>CS架构</strong>：Client-Server架构，客户端向服务器发送请求，服务器处理请求，返回响应，客户端接收响应，解析响应数据。客户端需要浏览器和应用程序，应用程序的逻辑和数据都存储在客户端。（维护难，体验好）</li></ul></blockquote><h3 id="5-1-请求"><a href="#5-1-请求" class="headerlink" title="5.1 请求"></a>5.1 请求</h3><h4 id="5-1-1-简单参数"><a href="#5-1-1-简单参数" class="headerlink" title="5.1.1 简单参数"></a>5.1.1 简单参数</h4><ul><li><strong>原始方式</strong>：<br>在原始的web程序中，获取请求参数，需要通过<code>HttpServletRequest</code>对象手动获取。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811180928.png"><blockquote><p>通过<code>HttpServletRequest</code>对象获取请求参数，需要通过<code>getParameter()</code>方法获取，且获取到的请求参数都是字符串类型，需要手动转换为其他类型。</p></blockquote></li><li><strong>SpringBoot方式</strong><ul><li><font color="red"><strong>参数名与形参变量名相同</strong></font>，定义形参即可接收参数,且会自动进行类型转换。【可以不传递，不会报错】<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811183255.png"></li><li>如果方法形参名称与请求参数名称不匹配，可以使用<code>@RequestParam</code>注解，指定请求参数的名称。【默认情况下必须传递，否则会报错】<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811183613.png"><blockquote><p><strong>注意事项</strong>：<br><code>@RequestParam</code>中的<code>required</code>属性默认值为true，代表该请求参数必须传递，如果不传递将会报错。如果该参数是可选的，可以将<code>required</code>属性设置为false。<br><code>@RequestParam</code>中有三个属性：<code>name</code>、<code>required</code>、<code>defaultValue</code>，分别代表请求参数的名称、是否必须传递、默认值。</p></blockquote></li></ul></li></ul><h4 id="5-1-2-实体参数"><a href="#5-1-2-实体参数" class="headerlink" title="5.1.2 实体参数"></a>5.1.2 实体参数</h4><ul><li><strong>简单实体参数</strong>：<br>请求参数名与形参对象属性名相同，定义POJO即可<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811184320.png"></li><li><strong>复杂实体参数</strong>：<br>请求参数名与形参对象属性名相同，按照对象层次结构关系即可接收嵌套POJO属性参数。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811184552.png"></li></ul><blockquote><p><strong>注意事项</strong>：<br>可以在实体类中直接给定默认值，如果请求参数没有传递，则使用默认值。</p></blockquote><h4 id="5-1-3-数组集合参数"><a href="#5-1-3-数组集合参数" class="headerlink" title="5.1.3 数组集合参数"></a>5.1.3 数组集合参数</h4><ul><li><strong>数组参数</strong>：<br>请求参数名与形参数组名称相同且请求参数为多个，定义数组类型形参即可接收数组参数。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811201852.png"></li><li><strong>集合参数</strong>：<br>请求参数名与形参集合名称相同且请求参数为多个，<code>@RequestParam</code>绑定参数关系<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811202303.png"></li></ul><blockquote><p><strong>数组</strong>：请求参数名与形参中数组变量名相同，可以直接使用数组封装<br><strong>集合</strong>：请求参数名与形参中集合变量名相同，可以使用<code>@RequestParam</code>绑定参数关系</p></blockquote><h4 id="5-1-4-日期参数"><a href="#5-1-4-日期参数" class="headerlink" title="5.1.4 日期参数"></a>5.1.4 日期参数</h4><ul><li><strong>日期参数</strong>：<br>使用<code>@DateTimeFormat</code>注解，指定日期格式。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811202903.png"></li></ul><h4 id="5-1-5-JSON参数"><a href="#5-1-5-JSON参数" class="headerlink" title="5.1.5 JSON参数"></a>5.1.5 JSON参数</h4><ul><li><strong>JSON参数</strong>：<br>JSON数据<strong>键名</strong>与形参对象<strong>属性名</strong>相同，定义POJO类型形参即可接收参数，需要使用<code>@RequestBody</code>注解标识。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811203406.png"></li></ul><h4 id="5-1-6-路径参数"><a href="#5-1-6-路径参数" class="headerlink" title="5.1.6 路径参数"></a>5.1.6 路径参数</h4><ul><li><strong>路径参数</strong>：<br>通过请求URL直接传递参数，使用{……}来标识该路径参数，需要使用<code>@PathVariable</code>注解获取路径参数。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811203721.png"></li></ul><h4 id="5-1-7-小结"><a href="#5-1-7-小结" class="headerlink" title="5.1.7 小结"></a>5.1.7 小结</h4><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811203929.png"></p><h3 id="5-2-响应"><a href="#5-2-响应" class="headerlink" title="5.2 响应"></a>5.2 响应</h3><h4 id="5-2-1-响应数据"><a href="#5-2-1-响应数据" class="headerlink" title="5.2.1 响应数据"></a>5.2.1 响应数据</h4><p><strong><code>@ResponseBody</code></strong>：</p><ul><li>类型：<strong>方法注解</strong>、<strong>类注解</strong></li><li>位置：Controller方法上&#x2F;类上</li><li>作用：将方法返回值直接响应，如果返回值是 实体对象&#x2F;集合，将会转换为JSON格式响应。</li><li>说明：<strong><code>@RestController</code></strong> &#x3D;&#x3D; <strong><code>@Controller</code></strong>+<strong><code>@ResponseBody</code></strong></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811204403.png"></p><blockquote><p>如果不添加<code>@ResponseBody</code>注解，Spring会认为返回值是一个视图名称。</p></blockquote><h4 id="5-2-2-统一响应结果"><a href="#5-2-2-统一响应结果" class="headerlink" title="5.2.2 统一响应结果"></a>5.2.2 统一响应结果</h4><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811204521.png"></p><h2 id="6-分层解耦"><a href="#6-分层解耦" class="headerlink" title="6.分层解耦"></a>6.分层解耦</h2><h3 id="6-1-三层架构"><a href="#6-1-三层架构" class="headerlink" title="6.1 三层架构"></a>6.1 三层架构</h3><ul><li><strong><code>controller</code></strong>：控制层，接收前端发送的请求，对请求进行处理，并响应数据</li><li><strong><code>service</code></strong>：业务逻辑层，处理具体的业务逻辑，调用DAO层进行数据访问</li><li><strong><code>dao</code></strong>：数据访问层（持久层），负责数据访问操作，包括数据的增删改查</li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811212617.png"></p><h3 id="6-2-分层解耦"><a href="#6-2-分层解耦" class="headerlink" title="6.2 分层解耦"></a>6.2 分层解耦</h3><ul><li><strong>内聚</strong>：软件中各个功能模块内部的功能联系。</li><li><strong>耦合</strong>：衡量软件中各个层&#x2F;模块之间的依赖、关联的程度。</li><li><strong>软件设计原则</strong>：高内聚低耦合。</li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811212945.png"></p><h3 id="6-3-IOC-DI-入门"><a href="#6-3-IOC-DI-入门" class="headerlink" title="6.3 IOC &amp; DI 入门"></a>6.3 IOC &amp; DI 入门</h3><h4 id="6-3-1-Bean的声明"><a href="#6-3-1-Bean的声明" class="headerlink" title="6.3.1 Bean的声明"></a>6.3.1 Bean的声明</h4><p>要把某个对象交给IOC容器管理，需要先在对应的类上加上如下注解之一：</p><table><thead><tr><th>注解</th><th>说明</th><th>位置</th></tr></thead><tbody><tr><td><code>@Component</code></td><td>声明Bean的基础注解</td><td>不属于以下三类时，使用此注解</td></tr><tr><td><code>@Controller</code></td><td>@Component的衍生注解</td><td>标注在控制器类上</td></tr><tr><td><code>@Service</code></td><td>@Component的衍生注解</td><td>标注在业务类上</td></tr><tr><td><code>@Repository</code></td><td>@Component的衍生注解</td><td>标注在数据访问类上 (由于与mybatis整合，用的少)</td></tr></tbody></table><blockquote><p><strong>注意事项</strong>：</p><ul><li>声明Bean的时候，可以通过value属性指定Bean的名称，如果没有指定，默认为类名首字母小写。</li><li>使用以上四个注解都可以声明Bean，但在SpringBoot集成web开发中，声明控制器Bean只能使用<code>@Controller</code>注解。</li></ul></blockquote><h4 id="6-3-2-Bean组件扫描"><a href="#6-3-2-Bean组件扫描" class="headerlink" title="6.3.2 Bean组件扫描"></a>6.3.2 Bean组件扫描</h4><ul><li>前面声明Bean的四大注解，要想生效，还需要被组件扫描<code>@ComponentScan</code>扫描。</li><li><code>@ComponentScan</code>注解虽然没有显示配置，但是实际上已经包含在了启动类声明注解<code>SpringBootApplication</code>中。</li><li>默认扫描的范围是启动类所在包及其子包。</li></ul><h4 id="6-3-3-Bean的依赖注入"><a href="#6-3-3-Bean的依赖注入" class="headerlink" title="6.3.3 Bean的依赖注入"></a>6.3.3 Bean的依赖注入</h4><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811214504.png"></p><ol><li>依赖注入的注解<ul><li><code>@Autowired</code>：默认按照类型自动装配。</li><li>如果同类型的Bean存在多个：<ul><li><code>@Primary</code>：指定Bean的优先级。</li><li><code>@Autowired + @Qualifier(&quot;Bean的名称&quot;)</code>：</li><li><code>@Resource(name = &quot;Bean的名称&quot;)</code></li></ul></li></ul></li><li><strong>@Resource</strong>与<b>@Autowired</b>区别：<ul><li>@Autowired是Spring框架提供的注解，而@Resource是JDK提供的注解</li><li>@Autowired默认是按照类型注入，而@Resource默认是按照名称注入</li></ul></li></ol><h2 id="7-Lombok"><a href="#7-Lombok" class="headerlink" title="7.Lombok"></a>7.Lombok</h2><ul><li>Lombok是一个实用的Java类库，能通过注解的形式自动生成构造器、getter&#x2F;setter、equals、hashCode、toString等方法，并可以自动生成日志变量，简化Java开发、提高效率。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813114516.png"></li></ul><blockquote><p><strong>注意事项</strong>：<br>Lombok会在编译时，自动生成对应的Java代码。我们使用Lombok时，还需要安装一个lombok插件（idea自带）。</p></blockquote><h2 id="8-MyBatis"><a href="#8-MyBatis" class="headerlink" title="8.MyBatis"></a>8.MyBatis</h2><ul><li>MyBatis是一款优秀的<font color="red">持久层(dao)</font>框架，用于简化JDBC的开发。</li><li>MyBatis本是Apache的一个开源项目iBatis，2010年这个项目由Apache迁移到了Google Code，并且改名为MyBatis。2013年11月迁移到Github。</li><li>官网：<a class="link" target="_blank" rel="noopener" href="https://mybatis.org/">https://mybatis.org<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li></ul><h3 id="8-1-快速入门"><a href="#8-1-快速入门" class="headerlink" title="8.1 快速入门"></a>8.1 快速入门</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813104626.png"></p><h3 id="8-2-JDBC介绍"><a href="#8-2-JDBC介绍" class="headerlink" title="8.2 JDBC介绍"></a>8.2 JDBC介绍</h3><ul><li><strong>JDBC</strong>：<br>Java DataBase Connectivity，就是使用Java语言操作关系型数据库的一套API。</li><li><strong>本质</strong>：<ul><li>sun公司官方定义的一套操作所有关系型数据库的规范，即接口。</li><li>各个数据库厂商去实现这套接口，提供数据库<font color="red">驱动jar包</font>。</li><li>我们可以使用这套接口（JDBC）编程，真正执行的代码是驱动jar包中的实现类。</li></ul></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813105135.png"></p><h3 id="8-3-数据库连接池"><a href="#8-3-数据库连接池" class="headerlink" title="8.3 数据库连接池"></a>8.3 数据库连接池</h3><ul><li><strong>概念</strong>：<ul><li>数据库连接池是一个容器，负责分配，管理数据库连接(Connection)</li><li>它允许应用程序重复使用一个现有的数据库连接，而不是重新建立一个</li><li>释放空闲时间超过最大空闲时间的连接，来避免因为没有释放连接而引起的数据库连接遗漏</li></ul></li><li><strong>优势</strong>：<ul><li>资源重用</li><li>提升系统响应速度</li><li>避免数据库连接遗漏</li></ul></li><li><strong>标准接口</strong>：<code>DataSource</code><ul><li>官方(Sun)提供的数据库连接池接口，由第三方组织实现此类接口。</li><li>功能：获取连接 <code>Connection getConnection() throws SQLException;</code></li></ul></li><li><strong>常见产品</strong>：<br><strong>C3P0、DBCP、Druid、Hikari（springboot默认）</strong><ul><li>Durid(德鲁伊)：是阿里巴巴开源的一个数据库连接池实现，它具有监控功能、SQL防火墙、SQL优化功能等。</li></ul></li><li><strong>切换Druid数据库连接池</strong>：<ul><li>官方地址：<a class="link" target="_blank" rel="noopener" href="https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter">https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li><li>添加依赖(pom.xml)：<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--在pom.xml中添加依赖--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ul></li></ul><h3 id="8-4-基础操作"><a href="#8-4-基础操作" class="headerlink" title="8.4 基础操作"></a>8.4 基础操作</h3><h4 id="8-4-1-参数占位符"><a href="#8-4-1-参数占位符" class="headerlink" title="8.4.1 参数占位符"></a>8.4.1 参数占位符</h4><ul><li><strong><code>#&#123;……&#125;</code></strong>：<ul><li>在执行SQL时，会将<code>#&#123;……&#125;</code>替换为 ? ,生成预编译SQL，会自动设置参数值。</li><li>使用时机：参数传递，都使用<code>#&#123;……&#125;</code>。</li><li><font color="red"><strong>不能直接在引号内使用，因为如果将 #{……} 放在引号内，MyBatis 会将其处理为一个普通的字符串值，而不会进行参数替换。</strong></font><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813164518.png"></li></ul></li><li><strong><code>$&#123;……&#125;</code></strong>：<ul><li>拼接SQL，直接将参数拼接在SQL语句中，存在SQL注入问题。</li><li>使用时机：如果对表名、列表进行动态设置时使用。<blockquote><p><strong>总结</strong>：</p><ul><li>动态值 使用 #{key}，动态的列名、容器名、关键字等使用 ${……}。</li><li>？只能替代值的位置，不能替代标签、列名、表名、关键字等。emp_id &#x3D; ? ，不能写 ？&#x3D; ?</li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">//注解方式传入参数！！</span></span><br><span class="line">&gt;<span class="meta">@Select(&quot;select * from user where $&#123;column&#125; = #&#123;value&#125;&quot;)</span></span><br><span class="line">&gt;User <span class="title function_">findByColumn</span><span class="params">(<span class="meta">@Param(&quot;column&quot;)</span> String column, <span class="meta">@Param(&quot;value&quot;)</span> String value)</span>;</span><br></pre></td></tr></table></figure></div></blockquote></li></ul></li></ul><h4 id="8-4-2-预编译SQL"><a href="#8-4-2-预编译SQL" class="headerlink" title="8.4.2 预编译SQL"></a>8.4.2 预编译SQL</h4><p><strong>优势</strong>：</p><ul><li>性能更高</li><li>更安全(防止SQL注入)<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813164710.png"></li></ul><h4 id="8-4-3-日志输出"><a href="#8-4-3-日志输出" class="headerlink" title="8.4.3 日志输出"></a>8.4.3 日志输出</h4><p>可以在application.yml中，打开mybatis的日志，并指定输出到控制台。</p><div class="code-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># 配置mybatis的日志, 指定输出到控制台</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">    <span class="comment"># 开启mybatis的驼峰命名自动映射开关 a_column ------&gt; aCloumn</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><h4 id="8-4-4-删除"><a href="#8-4-4-删除" class="headerlink" title="8.4.4 删除"></a>8.4.4 删除</h4><ul><li><strong>SQL语句：</strong><div class="code-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">17</span>;</span><br></pre></td></tr></table></figure></div></li><li><strong>接口方法：</strong><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Delete(&quot;delete from emp where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure></div></li></ul><blockquote><p><strong>注意事项</strong>：<br>如果mapper接口方法形参只有一个普通类型的参数，#{……}里面的属性名可以随便写，如：#{id}、#{value}，但最好和参数名一致。</p></blockquote><h4 id="8-4-5-添加"><a href="#8-4-5-添加" class="headerlink" title="8.4.5 添加"></a>8.4.5 添加</h4><p><strong>无需主键返回</strong></p><ul><li><strong>SQL语句：</strong><div class="code-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert into</span> emp(username, gender, email, dept_id) <span class="keyword">values</span> (<span class="string">&#x27;宋江&#x27;</span>,<span class="number">1</span>,<span class="number">1056985080</span><span class="variable">@qq</span>.com,<span class="number">1</span>);</span><br></pre></td></tr></table></figure></div></li><li><strong>接口方法：</strong><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert(&quot;insert into emp(username, gender, email, dept_id) values (#&#123;username&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;deptId&#125;)&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(Emp emp)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// emp对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Emp</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> Integer id;</span><br><span class="line">  <span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> Short gender;</span><br><span class="line">  <span class="keyword">private</span> String email;</span><br><span class="line">  <span class="keyword">private</span> Integer deptId;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul><p><strong>主键返回</strong></p><ul><li><strong>描述</strong>：<br>在数据添加成功后，需要获取插入数据库数据的主键值。（eg：添加套餐数据后，还需要维护套餐菜品关系表数据）</li><li><strong>实现</strong>：<br>在接口方法前添加<code>@Options(keyProperty = &quot;id&quot;, useGeneratedKeys = true)</code>注解 &#x3D;&gt; 会自动将生成的主键值，赋值给emp对象的id属性。<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Options(keyProperty = &quot;id&quot;, useGeneratedKeys = true)</span></span><br><span class="line"><span class="meta">@Insert(&quot;insert into emp(username, gender, email, dept_id) values (#&#123;username&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;deptId&#125;&quot;)</span></span><br><span class="line"><span class="meta">public void insert(Emp emp);</span></span><br></pre></td></tr></table></figure></div></li></ul><h4 id="8-4-6-更新"><a href="#8-4-6-更新" class="headerlink" title="8.4.6 更新"></a>8.4.6 更新</h4><ul><li><strong>SQL语句(根据ID更新员工信息)：</strong><div class="code-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> username <span class="operator">=</span> <span class="string">&#x27;李逵&#x27;</span>, gender <span class="operator">=</span> <span class="number">1</span>, email <span class="operator">=</span> <span class="string">&#x27;1056985080@qq.com&#x27;</span>, dept_id <span class="operator">=</span> <span class="number">1</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">17</span>;</span><br></pre></td></tr></table></figure></div></li><li><strong>接口方法：</strong><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Update(&quot;update emp set username = #&#123;username&#125;, gender = #&#123;gender&#125;, email = #&#123;email&#125;, dept_id = #&#123;deptId&#125; where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></table></figure></div></li></ul><h4 id="8-4-7-查询"><a href="#8-4-7-查询" class="headerlink" title="8.4.7 查询"></a>8.4.7 查询</h4><p><strong>根据ID查询</strong></p><ul><li><strong>SQL语句：</strong><div class="code-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">17</span>;</span><br></pre></td></tr></table></figure></div></li><li><strong>接口方法：</strong><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure></div><strong>模糊查询</strong></li><li><strong>SQL语句：</strong><div class="code-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">&#x27;%张%&#x27;</span> <span class="keyword">and</span> gender <span class="operator">=</span> <span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> id <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure></div></li><li><strong>接口方法：</strong><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp where username like &#x27;%$&#123;name&#125;%&#x27; and gender = #&#123;gender&#125; order by id desc&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">getByNameAndGender</span><span class="params">(String name, Short gender)</span>;</span><br><span class="line"><span class="comment">// 性能低、不安全，存在SQL注入问题</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Select(&quot;select * from emp where username like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;) and gender = #&#123;gender&#125; order by id desc&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">getByNameAndGender</span><span class="params">(String name, Short gender)</span>;</span><br><span class="line"><span class="comment">// 性能高、安全，不会存在SQL注入问题</span></span><br></pre></td></tr></table></figure></div></li></ul><p><b><code>concat()</code></b>函数：连接字符串，eg：concat(‘%’,#{name},’%’)，解决<code>#&#123;……&#125;</code>不能直接在引号中使用的问题。</p><h4 id="8-4-8-参数名说明"><a href="#8-4-8-参数名说明" class="headerlink" title="8.4.8 参数名说明"></a>8.4.8 参数名说明</h4><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813174439.png"></p><h4 id="8-4-9-数据封装"><a href="#8-4-9-数据封装" class="headerlink" title="8.4.9 数据封装"></a>8.4.9 数据封装</h4><ul><li>实体类属性名 和 数据库表查询返回的字段名一致，mybatis会自动封装。</li><li>如果实体类属性名 和 数据库表查询返回的字段名不一致，不能自动封装。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813174948.png"></li></ul><p>解决方式：</p><ul><li><p><strong>起别名</strong>：在SQL语句中，对不一样的列名器别名，别名和实体类中的属性名一致。(<code>as</code>可以省略)</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select id, username, gender, email, dept_id as deptId from emp where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure></div></li><li><p><strong>手动结果映射</strong>：</p><ul><li>通过<b><code>@Results</code></b>和<b><code>@Result</code></b>注解，手动映射。</li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="meta">@Results(&#123;</span></span><br><span class="line"><span class="meta">  @Result(column = &quot;dept_id&quot;, property = &quot;deptId&quot;),</span></span><br><span class="line"><span class="meta">  @Result(column = &quot;create_time&quot;, property = &quot;createTime&quot;),</span></span><br><span class="line"><span class="meta">  @Result(column = &quot;update_time&quot;, property = &quot;updateTime&quot;)</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure></div><ul><li>通过<b><code>&lt;resultMap&gt;</code></b>标签定义对应关系，再在后面的SQL语句中引用这个对应关系</li></ul><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 专门声明一个resultMap设定column到property之间的对应关系 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByRMResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 使用id标签设置主键列和主键属性之间的对应关系 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- column属性用于指定字段名；property属性用于指定Java实体类属性名 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;emp_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empId&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 使用result标签设置普通字段和Java实体类属性之间的关系 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_salary&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empSalary&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Employee selectEmployeeByRM(Integer empId); --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByRM&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;selectEmployeeByRMResultMap&quot;</span>&gt;</span></span><br><span class="line">select emp_id,emp_name,emp_salary from t_emp where emp_id=#&#123;empId&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><p><strong>开启驼峰命名</strong>：如果字段名与属性名符合驼峰命名法则，mybatis会自动通过驼峰命名规则映射。<br>主要用于单层级的字段映射。它不能自动处理更复杂的场景，例如多层级的嵌套对象或深层次的属性名转换。</p><div class="code-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在application.yml中，开启驼峰命名自动映射开关。即从数据库字段名a_column映射到实体类属性名aCloumn。</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line"><span class="attr">configuration:</span></span><br><span class="line">  <span class="comment"># 配置mybatis的日志, 指定输出到控制台</span></span><br><span class="line">  <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="comment"># 开启mybatis的驼峰命名自动映射开关 a_column ------&gt; aCloumn</span></span><br><span class="line">  <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></div></li><li><p><strong>开启自动映射</strong>：<code>autoMappingBehavior</code> 是 MyBatis 中的一个全局配置项，用于控制 MyBatis 如何自动映射查询结果中的列到 Java 实体类的属性上。根据配置的不同，<code>autoMappingBehavior</code> 可以影响映射的自动化程度，从而减少或增加手动配置的需求。它有以下三个配置选项：</p><div class="code-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># 配置MyBatis的日志, 指定输出到控制台</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">    <span class="comment"># 设置MyBatis的自动映射行为</span></span><br><span class="line">    <span class="attr">auto-mapping-behavior:</span> <span class="string">NONE</span> <span class="comment"># 可选值：NONE, PARTIAL, FULL</span></span><br></pre></td></tr></table></figure></div><ul><li><strong><code>NONE</code></strong>：MyBatis 不会自动映射任何列到实体类属性。所有的映射关系必须手动配置，通常通过 <code>@Result</code> 注解或 <code>&lt;resultMap&gt;</code> 标签来指定。这种模式适合需要对映射关系进行严格控制的场景，以避免意外的映射错误。</li><li><strong><code>PARTIAL</code></strong>（默认值）：MyBatis 会自动映射查询结果中的列到实体类属性，但只限于那些没有在 <code>ResultMap</code> 中明确定义过的列。如果在 <code>ResultMap</code> 中已经定义了某列的映射关系，则 MyBatis 不会再次自动映射该列。<code>PARTIAL</code> 是大多数情况下的推荐设置，能够在保持映射控制的同时，自动处理简单的映射任务。</li><li><strong><code>FULL</code></strong>：MyBatis 会尝试自动映射所有查询结果中的列到实体类属性，无论这些列是否在 <code>ResultMap</code> 中定义。<code>FULL</code> 设置适合简单对象的映射，能够减少手动配置的工作量。但在复杂映射场景中，可能导致意外的映射错误，因此需要谨慎使用。</li><li><strong>应用场景与注意事项</strong>：<code>autoMappingBehavior</code> 的设置直接影响 MyBatis 的自动映射能力。设置为 <code>FULL</code> 时，MyBatis 可以帮助自动处理简单的<strong>嵌套对象映射</strong>，但对于复杂的嵌套结构，手动映射依然是必不可少的。即使设置为 <code>FULL</code> 或 <code>PARTIAL</code>，在复杂或关键场景下，建议依然手动配置映射，以确保映射的准确性和可控性。此外，在处理大数据量或复杂对象映射时，<code>FULL</code> 的自动映射可能增加系统负担，因此在性能敏感的应用中应谨慎选择。</li></ul></li></ul><h4 id="8-4-10-多表映射"><a href="#8-4-10-多表映射" class="headerlink" title="8.4.10 多表映射"></a>8.4.10 多表映射</h4><ul><li><p><strong>一对一映射</strong>：<br>在一对一关联中，一个实体对象包含另一个实体对象，通常通过外键关系实现。使用 <strong><code>@One</code></strong> 注解、**<code>@Result</code><strong>注解、</strong><code>&lt;association&gt;</code>**标签均可以帮助 MyBatis 自动处理这种关系的查询和映射。</p><p><strong>示例</strong>：<br>假设我们有两个表：<code>user</code> 和 <code>address</code>，它们之间存在一对一关系。</p><ul><li><p><code>user</code> 表：</p><ul><li><code>id</code>（用户ID）</li><li><code>name</code>（用户名）</li><li><code>address_id</code>（外键，指向 <code>address</code> 表的 ID）</li></ul></li><li><p><code>address</code> 表：</p><ul><li><code>id</code>（地址ID）</li><li><code>street</code>（街道）</li><li><code>city</code>（城市）</li></ul></li></ul><p><strong>实体类</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Address address; <span class="comment">// 一对一关系</span></span><br><span class="line">    <span class="comment">// Getters and setters</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Address</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String street;</span><br><span class="line">    <span class="keyword">private</span> String city;</span><br><span class="line">    <span class="comment">// Getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul><ol><li><p><strong>注解方式 (<code>@One</code> 注解)</strong><br>在 <code>UserMapper</code> 中，使用 <code>@One</code> 注解来配置一对一关联。在这种方式中，<code>@One</code> 注解用于指定如何从主查询的结果集中加载一个单一的关联对象。</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT u.id, u.name, a.id AS address_id, a.street, a.city &quot; +</span></span><br><span class="line"><span class="meta">             &quot;FROM user u &quot; +</span></span><br><span class="line"><span class="meta">             &quot;LEFT JOIN address a ON u.address_id = a.id &quot; +</span></span><br><span class="line"><span class="meta">             &quot;WHERE u.id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Results(&#123;</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;id&quot;, property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;name&quot;, property = &quot;name&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;address_id&quot;, property = &quot;address&quot;,</span></span><br><span class="line"><span class="meta">                one = @One(select = &quot;com.example.mapper.AddressMapper.findById&quot;))</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    User <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ul><li><code>@Result(column = &quot;address_id&quot;, property = &quot;address&quot;, one = @One(select = &quot;com.example.mapper.AddressMapper.findById&quot;))</code>：<ul><li><code>column</code>：数据库字段名。</li><li><code>property</code>：实体类中的属性名。</li><li><code>one</code>：指定一个方法来查询 <code>Address</code> 对象，<code>select</code> 属性指向了 <code>AddressMapper</code> 中的方法 <code>findById</code>。</li></ul></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AddressMapper</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="meta">@Select(&quot;SELECT id, street, city FROM address WHERE id = #&#123;id&#125;&quot;)</span></span><br><span class="line">   Address <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p><strong>注解方式 (<code>@Result</code> 注解)</strong><br>在 <code>UserMapper</code> 中，使用 <code>@Result</code> 注解来直接映射数据库字段到实体类的属性。如果关联对象的属性在主查询中被直接包含，则可以通过 <code>@Result</code> 注解来映射。</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT u.id, u.name, a.id AS address_id, a.street, a.city &quot; +</span></span><br><span class="line"><span class="meta">            &quot;FROM user u &quot; +</span></span><br><span class="line"><span class="meta">            &quot;LEFT JOIN address a ON u.address_id = a.id &quot; +</span></span><br><span class="line"><span class="meta">            &quot;WHERE u.id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Results(&#123;</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;id&quot;, property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;name&quot;, property = &quot;name&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;address_id&quot;, property = &quot;address.id&quot;), // 自动映射到 Address 对象</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;street&quot;, property = &quot;address.street&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;city&quot;, property = &quot;address.city&quot;)</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    User <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ul><li><code>@Result(column = &quot;address_id&quot;, property = &quot;address.id&quot;)</code>：自动将 <code>address_id</code> 映射到 <code>Address</code> 对象的 <code>id</code> 属性。</li><li><code>@Result(column = &quot;street&quot;, property = &quot;address.street&quot;)</code>：将 <code>street</code> 映射到 <code>Address</code> 对象的 <code>street</code> 属性。</li></ul></li><li><p><strong>XML 配置方式 (<code>&lt;association&gt;</code> 标签)</strong><br>在 <code>UserMapper.xml</code> 中，通过 <code>&lt;association&gt;</code> 标签指定如何查询和映射关联对象。</p><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    SELECT u.id, u.name, a.id AS address_id, a.street, a.city</span><br><span class="line">    FROM user u</span><br><span class="line">    LEFT JOIN address a ON u.address_id = a.id</span><br><span class="line">    WHERE u.id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;address&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;com.example.pojo.Address&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;address_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;street&quot;</span> <span class="attr">property</span>=<span class="string">&quot;street&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;city&quot;</span> <span class="attr">property</span>=<span class="string">&quot;city&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li><strong><code>&lt;association&gt;</code> 标签</strong>：用于指定如何加载和映射关联对象。<ul><li><code>property</code>：在主对象中用来表示关联对象的属性名。</li><li><code>javaType</code>：被关联的实体类的全类名。</li><li><code>&lt;id&gt;</code>：映射主键字段。</li><li><code>&lt;result&gt;</code>：映射其他字段。</li></ul></li></ul></li></ol><blockquote><p><strong>总结</strong></p><ul><li><strong><code>@One</code> 注解</strong>：用于在注解方式中配置一对一关系，通过指定 <code>select</code> 属性来查询关联对象。</li><li><strong><code>@Result</code> 注解</strong>：直接映射查询结果到实体对象的属性，包括嵌套对象的属性。</li><li><strong><code>&lt;association&gt;</code> 标签</strong>：在 XML 配置中定义一对一关系，通过指定 <code>property</code> 和 <code>javaType</code> 来配置如何映射关联对象。</li></ul></blockquote><ul><li><p><strong>一对多映射</strong>：<br>假设我们有两个表：<code>user</code> 和 <code>orders</code>，其中一个用户 (<code>user</code>) 可以有多个订单 (<code>orders</code>)。我们将展示如何在 <code>User</code> 对象中使用 <code>@Many</code> 注解以及在 XML 配置中使用 <code>&lt;collection&gt;</code> 标签来处理一对多关系。</p><p><strong>实体类</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Order&gt; orders; <span class="comment">// 一对多关系</span></span><br><span class="line">    <span class="comment">// Getters and setters</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String product;</span><br><span class="line">    <span class="keyword">private</span> Integer userId; <span class="comment">// 外键</span></span><br><span class="line">    <span class="comment">// Getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul><ol><li><p><strong>使用 <code>@Many</code> 注解</strong><br>在这种方式中，我们在 <code>UserMapper</code> 接口中使用 <code>@Many</code> 注解来定义一对多关系。<br><strong>Mapper 接口</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line">    <span class="meta">@Select(&quot;SELECT u.id, u.name, o.id AS order_id, o.product &quot; +</span></span><br><span class="line"><span class="meta">            &quot;FROM user u &quot; +</span></span><br><span class="line"><span class="meta">            &quot;LEFT JOIN orders o ON u.id = o.user_id &quot; +</span></span><br><span class="line"><span class="meta">            &quot;WHERE u.id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Results(&#123;</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;id&quot;, property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;name&quot;, property = &quot;name&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;id&quot;, property = &quot;orders&quot;, </span></span><br><span class="line"><span class="meta">                many = @Many(select = &quot;com.example.mapper.OrderMapper.findByUserId&quot;))</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    User <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>OrderMapper 接口</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> &#123;</span><br><span class="line">    <span class="meta">@Select(&quot;SELECT id, product, user_id FROM orders WHERE user_id = #&#123;userId&#125;&quot;)</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">findByUserId</span><span class="params">(Integer userId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ul><li><strong><code>@Many</code> 注解</strong>：在 <code>UserMapper</code> 中，<code>@Result</code> 注解的 <code>many</code> 属性指定了如何加载 <code>orders</code> 属性。<code>select</code> 属性指向 <code>OrderMapper</code> 中的 <code>findByUserId</code> 方法，该方法返回<br>与 <code>userId</code> 相关的所有订单。</li></ul></li><li><p><strong>使用 XML 配置中的 <code>&lt;collection&gt;</code> 标签</strong><br>在这种方式中，我们使用 XML 配置文件来定义一对多关系。</p><p><strong>UserMapper.xml</strong></p><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        SELECT u.id, u.name, o.id AS order_id, o.product</span><br><span class="line">        FROM user u</span><br><span class="line">        LEFT JOIN orders o ON u.id = o.user_id</span><br><span class="line">        WHERE u.id = #&#123;id&#125;</span><br><span class="line">        <span class="comment">&lt;!-- 使用 `&lt;collection&gt;` 标签定义一对多关系 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;orders&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;com.example.pojo.Order&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;order_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;product&quot;</span> <span class="attr">property</span>=<span class="string">&quot;product&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li><strong><code>&lt;collection&gt;</code> 标签</strong>：用于定义 <code>User</code> 对象中的 <code>orders</code> 集合属性。<code>property</code> 属性指定集合属性的名称，<code>ofType</code> 属性指定集合中元素的类型。在查询结果中，MyBatis 会自动 将结果集中的多个订单映射到 <code>User</code> 对象的 <code>orders</code> 属性中。</li></ul></li></ol><blockquote><p><strong>总结</strong></p><ul><li><strong><code>@Many</code> 注解</strong>：在 <code>UserMapper</code> 中通过 <code>@Many</code> 注解指定如何查询与 <code>User</code> 相关的多个 <code>Order</code> 对象。这种方式简洁明了，并且适用于注解方式的配置。</li><li><strong>XML 配置中的 <code>&lt;collection&gt;</code> 标签</strong>：在 <code>UserMapper.xml</code> 中使用 <code>&lt;collection&gt;</code> 标签来定义一对多关系。通过这种方式，你可以在 XML 文件中清晰地配置如何将多个结果映射到 <code>User</code> 对象的集合属性中。这种方式适用于 XML 配置文件，并允许你在查询中定义更复杂的映射逻辑。</li></ul></blockquote><ul><li><p><strong>三表查询</strong>：<br>在 MyBatis 中处理三表关联时，通常涉及到多对多或更复杂的多级关联关系。我们可以通过多对一和一对多的组合来实现三表关联。下面我将展示一个处理三表关联的完整示例，包括使用注解和 XML 配置两种方式。</p><p><strong>示例</strong><br>假设我们有以下三张表：</p></li><li><p><strong><code>user</code> 表</strong>：存储用户信息。</p><ul><li><code>id</code>（用户ID）</li><li><code>name</code>（用户名）</li></ul></li><li><p><strong><code>orders</code> 表</strong>：存储订单信息，关联到 <code>user</code> 表。</p><ul><li><code>id</code>（订单ID）</li><li><code>product</code>（产品名）</li><li><code>user_id</code>（外键，指向 <code>user</code> 表的 ID）</li></ul></li><li><p><strong><code>order_items</code> 表</strong>：存储订单项信息，关联到 <code>orders</code> 表。</p><ul><li><code>id</code>（订单项ID）</li><li><code>order_id</code>（外键，指向 <code>orders</code> 表的 ID）</li><li><code>item_name</code>（订单项名）</li></ul><p><strong>实体类</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Order&gt; orders; <span class="comment">// 一对多关系：用户 -&gt; 订单</span></span><br><span class="line">    <span class="comment">// Getters and setters</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String product;</span><br><span class="line">    <span class="keyword">private</span> List&lt;OrderItem&gt; orderItems; <span class="comment">// 一对多关系：订单 -&gt; 订单项</span></span><br><span class="line">    <span class="comment">// Getters and setters</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderItem</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String itemName;</span><br><span class="line">    <span class="comment">// Getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>目标</strong><br>我们要查询 <code>User</code> 对象，并且包含用户的订单 (<code>Order</code>)，以及每个订单下的订单项 (<code>OrderItem</code>)。</p></li></ul><ol><li><p><strong>使用注解的方式</strong>：<br><strong>UserMapper 接口</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT u.id, u.name, o.id AS order_id, o.product &quot; +</span></span><br><span class="line"><span class="meta">            &quot;FROM user u &quot; +</span></span><br><span class="line"><span class="meta">            &quot;LEFT JOIN orders o ON u.id = o.user_id &quot; +</span></span><br><span class="line"><span class="meta">            &quot;WHERE u.id = #&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Results(&#123;</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;id&quot;, property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;name&quot;, property = &quot;name&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;order_id&quot;, property = &quot;orders&quot;, </span></span><br><span class="line"><span class="meta">                many = @Many(select = &quot;com.example.mapper.OrderMapper.findByUserId&quot;))</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    User <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>OrderMapper 接口</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT id, product FROM orders WHERE user_id = #&#123;userId&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@Results(&#123;</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;id&quot;, property = &quot;id&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;product&quot;, property = &quot;product&quot;),</span></span><br><span class="line"><span class="meta">        @Result(column = &quot;id&quot;, property = &quot;orderItems&quot;, </span></span><br><span class="line"><span class="meta">                many = @Many(select = &quot;com.example.mapper.OrderItemMapper.findByOrderId&quot;))</span></span><br><span class="line"><span class="meta">    &#125;)</span></span><br><span class="line">    List&lt;Order&gt; <span class="title function_">findByUserId</span><span class="params">(Integer userId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>OrderItemMapper 接口</strong></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderItemMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT id, item_name FROM order_items WHERE order_id = #&#123;orderId&#125;&quot;)</span></span><br><span class="line">    List&lt;OrderItem&gt; <span class="title function_">findByOrderId</span><span class="params">(Integer orderId)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>在这个配置中：</p><ul><li><strong><code>UserMapper</code></strong>：负责查询 <code>User</code> 信息及其关联的 <code>Order</code> 列表。<code>@Many</code> 注解指向 <code>OrderMapper</code> 中的 <code>findByUserId</code> 方法，该方法进一步加载每个订单的详细信息。</li><li><strong><code>OrderMapper</code></strong>：负责查询 <code>Order</code> 信息及其关联的 <code>OrderItem</code> 列表。<code>@Many</code> 注解指向 <code>OrderItemMapper</code> 中的 <code>findByOrderId</code> 方法。</li><li><strong><code>OrderItemMapper</code></strong>：负责查询 <code>OrderItem</code> 列表。</li></ul></li><li><p><strong>使用 XML 配置的方式</strong>：<br><strong>UserMapper.xml</strong></p><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.pojo.User&quot;</span>&gt;</span></span><br><span class="line">        SELECT u.id, u.name</span><br><span class="line">        FROM user u</span><br><span class="line">        WHERE u.id = #&#123;id&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;orders&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;com.example.pojo.Order&quot;</span>&gt;</span></span><br><span class="line">            SELECT o.id AS order_id, o.product</span><br><span class="line">            FROM orders o</span><br><span class="line">            WHERE o.user_id = #&#123;id&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;orderItems&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;com.example.pojo.OrderItem&quot;</span>&gt;</span></span><br><span class="line">                SELECT oi.id AS item_id, oi.item_name</span><br><span class="line">                FROM order_items oi</span><br><span class="line">                WHERE oi.order_id = #&#123;order_id&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li><strong><code>&lt;collection&gt;</code> 标签</strong>：用于定义一对多关系，首先映射 <code>User</code> 与 <code>Order</code> 之间的关系，然后在 <code>Order</code> 与 <code>OrderItem</code> 之间再次使用 <code>&lt;collection&gt;</code> 标签。</li><li><strong>多级映射</strong>：在 <code>UserMapper.xml</code> 中，我们嵌套使用 <code>&lt;collection&gt;</code> 标签来处理多级关联。</li></ul></li></ol><blockquote><p><strong>总结</strong></p><ul><li><strong>注解方式</strong>：<code>@Many</code> 注解在三表关联中非常有效，可以简化代码，特别是在分布式项目中，但在复杂查询中可能不如 XML 配置灵活。</li><li><strong>XML 配置方式</strong>：<code>&lt;collection&gt;</code> 标签在处理复杂关联时更直观，尤其是当查询需要多级嵌套或复杂的结果映射时。</li></ul></blockquote><h3 id="8-5-XML映射文件"><a href="#8-5-XML映射文件" class="headerlink" title="8.5 XML映射文件"></a>8.5 XML映射文件</h3><ul><li><strong>规范</strong>：<ul><li>XML映射文件的名称与Mapper接口名称一致，并且将XML映射文件和Mapper接口放在同一个包下(同包同名)。</li><li>XML映射文件的namespace属性与Mapper接口全限定名一致。</li><li>XML映射文件中的SQL语句的id属性与Mapper接口方法名一致，并保持返回类型一致。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813183451.png"><blockquote><p>使用Mybatis的注解，主要是来完成一些简单的增删改查功能，如果需要实现复杂的SQL功能，建议使用XML来配置映射语句。</p></blockquote></li></ul></li></ul><h4 id="8-5-1-if标签"><a href="#8-5-1-if标签" class="headerlink" title="8.5.1 if标签"></a>8.5.1 if标签</h4><ul><li><strong>&lt;if&gt;</strong>：<ul><li>用于判断条件是否成立，如果条件为true，则拼接SQL。</li><li>形式：&lt;if test&#x3D;”条件”&gt;……&lt;&#x2F;if&gt;。<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">if</span> test=<span class="string">&quot;gender != null&quot;</span>&gt;……&lt;/<span class="keyword">if</span>&gt;</span><br></pre></td></tr></table></figure></div></li></ul></li></ul><h4 id="8-5-2-where标签"><a href="#8-5-2-where标签" class="headerlink" title="8.5.2 where标签"></a>8.5.2 where标签</h4><ul><li><strong>&lt;where&gt;</strong>：<ul><li>where元素只会在子元素有内容的情况下才能插入where子句，而且会自动去除子句开头的and或or</li><li>形式：&lt;where&gt;……&lt;&#x2F;where&gt;。<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=<span class="string">&quot;findUsers&quot;</span> resultType=<span class="string">&quot;User&quot;</span>&gt;</span><br><span class="line">  select * from user</span><br><span class="line">  &lt;where&gt;</span><br><span class="line">      &lt;<span class="keyword">if</span> test=<span class="string">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span><br><span class="line">          name = #&#123;name&#125;</span><br><span class="line">      &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">if</span> test=<span class="string">&quot;age != null&quot;</span>&gt;</span><br><span class="line">          <span class="type">and</span> <span class="variable">age</span> <span class="operator">=</span> #&#123;age&#125;</span><br><span class="line">      &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">      &lt;<span class="keyword">if</span> test=<span class="string">&quot;gender != null and gender != &#x27;&#x27;&quot;</span>&gt;</span><br><span class="line">          <span class="type">and</span> <span class="variable">gender</span> <span class="operator">=</span> #&#123;gender&#125;</span><br><span class="line">      &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">  &lt;/where&gt;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure></div></li></ul></li></ul><h4 id="8-5-3-set标签"><a href="#8-5-3-set标签" class="headerlink" title="8.5.3 set标签"></a>8.5.3 set标签</h4><ul><li><strong>&lt;set&gt;</strong>：<ul><li>动态地在行首插入set关键字，并会删除掉额外的逗号。（用在update语句中）</li><li>形式：&lt;set&gt;……&lt;&#x2F;set&gt;。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813190655.png"></li></ul></li></ul><h4 id="8-5-4-foreach标签"><a href="#8-5-4-foreach标签" class="headerlink" title="8.5.4 foreach标签"></a>8.5.4 foreach标签</h4><ul><li>SQL语句：<div class="code-container" data-rel="Sql"><figure class="iseeu highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br></pre></td></tr></table></figure></div></li><li>接口方法：<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 批量删除</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteByIds</span><span class="params">(List&lt;Integer&gt; ids)</span>;</span><br></pre></td></tr></table></figure></div></li><li>XML映射文件：<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteByIds&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 从 emp 表中删除满足条件的记录 --&gt;</span></span><br><span class="line">    delete from emp where id in</span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">        使用 &lt;foreach&gt; 标签遍历传入的集合 ids</span></span><br><span class="line"><span class="comment">        collection=&quot;ids&quot; 表示传入的集合参数名称是 ids</span></span><br><span class="line"><span class="comment">        item=&quot;id&quot; 表示遍历集合中的每个元素，并将当前元素赋值给 id</span></span><br><span class="line"><span class="comment">        open=&quot;(&quot; 表示在遍历元素之前，SQL 语句中添加一个左括号 (</span></span><br><span class="line"><span class="comment">        separator=&quot;,&quot; 表示在每个元素之间，用逗号 , 作为分隔符</span></span><br><span class="line"><span class="comment">        close=&quot;)&quot; 表示在遍历元素之后，SQL 语句中添加一个右括号 )</span></span><br><span class="line"><span class="comment">        原SQL：delete from emp where id in (1,2,3,4,5)</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;ids&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">            将当前遍历到的 id 以 #&#123;id&#125; 的形式插入到 SQL 语句中</span></span><br><span class="line"><span class="comment">            #&#123;id&#125; 是 MyBatis 的占位符，用于安全地传递参数，防止 SQL 注入</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></li><li>属性：<ul><li><code>collection</code>：集合属性名。</li><li><code>item</code>：集合遍历出来的元素&#x2F;项的名称。</li><li><code>open</code>：遍历集合元素前的前缀。【在遍历元素之前需要往SQL语句中添加什么内容】</li><li><code>separator</code>：遍历集合元素间的分隔符。【在遍历元素之间需要往SQL语句中添加什么内容】</li><li><code>close</code>：遍历集合元素后的后缀。【在遍历元素之后需要往SQL语句中添加什么内容】</li></ul></li></ul><h4 id="8-5-5-sql片段"><a href="#8-5-5-sql片段" class="headerlink" title="8.5.5 sql片段"></a>8.5.5 sql片段</h4><ul><li><strong>&lt;sql&gt;</strong>：定义可重用的SQL片段。</li><li><strong>&lt;include&gt;</strong>：通过属性refid，指定包含的sql片段的id。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813191643.png"></li></ul><h4 id="8-5-6-trim标签"><a href="#8-5-6-trim标签" class="headerlink" title="8.5.6 trim标签"></a>8.5.6 trim标签</h4><p>使用trim标签控制条件部分两端是否包含某些字符</p><ul><li>prefix属性：指定要动态添加的前缀</li><li>suffix属性：指定要动态添加的后缀</li><li>prefixOverrides属性：指定要动态去掉的前缀，使用”|”分隔有可能的多个值</li><li>suffixOverrides属性：指定要动态去掉的后缀，使用”|”分隔有可能的多个值</li></ul><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByTrim(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByConditionByTrim&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_age,emp_salary,emp_gender</span><br><span class="line">    from t_emp</span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- prefix属性指定要动态添加的前缀 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- suffix属性指定要动态添加的后缀 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- prefixOverrides属性指定要动态去掉的前缀，使用“|”分隔有可能的多个值 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- suffixOverrides属性指定要动态去掉的后缀，使用“|”分隔有可能的多个值 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 当前例子用where标签实现更简洁，但是trim标签更灵活，可以用在任何有需要的地方 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;where&quot;</span> <span class="attr">suffixOverrides</span>=<span class="string">&quot;and|or&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span></span><br><span class="line">            emp_name=#&#123;empName&#125; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;gt;</span> 3000&quot;</span>&gt;</span></span><br><span class="line">            emp_salary&gt;#&#123;empSalary&#125; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empAge <span class="symbol">&amp;lt;</span>= 20&quot;</span>&gt;</span></span><br><span class="line">            emp_age=#&#123;empAge&#125; or</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;empGender==&#x27;male&#x27;&quot;</span>&gt;</span></span><br><span class="line">            emp_gender=#&#123;empGender&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h4 id="8-5-7-choose-when-otherwise标签"><a href="#8-5-7-choose-when-otherwise标签" class="headerlink" title="8.5.7 choose&#x2F;when&#x2F;otherwise标签"></a>8.5.7 choose&#x2F;when&#x2F;otherwise标签</h4><p>在多个分支条件中，仅执行一个。</p><ul><li>从上到下依次执行条件判断</li><li>遇到的第一个满足条件的分支会被采纳</li><li>被采纳分支后面的分支都将不被考虑</li><li>如果所有的when分支都不满足，那么就执行otherwise分支</li></ul><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- List&lt;Employee&gt; selectEmployeeByConditionByChoose(Employee employee) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectEmployeeByConditionByChoose&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.atguigu.mybatis.entity.Employee&quot;</span>&gt;</span></span><br><span class="line">    select emp_id,emp_name,emp_salary from t_emp</span><br><span class="line">    where</span><br><span class="line">    <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empName != null&quot;</span>&gt;</span>emp_name=#&#123;empName&#125;<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;empSalary <span class="symbol">&amp;lt;</span> 3000&quot;</span>&gt;</span>emp_salary <span class="symbol">&amp;lt;</span> 3000<span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span>1=1<span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     第一种情况：第一个when满足条件 where emp_name=?</span></span><br><span class="line"><span class="comment">     第二种情况：第二个when满足条件 where emp_salary &lt; 3000</span></span><br><span class="line"><span class="comment">     第三种情况：两个when都不满足 where 1=1 执行了otherwise</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h2 id="9-项目搭建"><a href="#9-项目搭建" class="headerlink" title="9. 项目搭建"></a>9. 项目搭建</h2><h3 id="9-1-环境搭建"><a href="#9-1-环境搭建" class="headerlink" title="9.1 环境搭建"></a>9.1 环境搭建</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814223026.png"></p><h3 id="9-2-开发规范"><a href="#9-2-开发规范" class="headerlink" title="9.2 开发规范"></a>9.2 开发规范</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814224344.png"></p><blockquote><p><strong>注意事项</strong>：</p><ul><li>REST是风格，是约定方式，约定不是硬性规定，可以打破。</li><li>描述模块的功能通常是复数， 也就是加s的格式来描述，表示此类资源，而非单个资源。如：uers、emps、books……</li></ul></blockquote><h3 id="9-3-RequestMapping"><a href="#9-3-RequestMapping" class="headerlink" title="9.3 @RequestMapping"></a>9.3 @RequestMapping</h3><ul><li>类级别的<b><code>RequestMapping</code></b>定义了所有该类中处理方法的共同URL前缀。</li><li>方法级别的<b><code>RequestMapping</code></b>则在类级别的URL基础上进一步细分，指定具体的处理路径（eg：GET、POST）。可以使用更具体的GetMapping、PostMapping等注解替代。<br>如果不指定，默认情况下任何请求方式都可以访问。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814232320.png"></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用方法级别的@RequestMapping注解</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.POST)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">postHello</span><span class="params">(<span class="meta">@RequestBody</span> String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用方法级别的@GetMapping、@PostMapping注解</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">postHello</span><span class="params">(<span class="meta">@RequestBody</span> String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><blockquote><p><strong>注意事项</strong>：</p><ul><li><b><code>@RequestMapping</code></b>不用必须使用 &#x2F; 开头</li><li><b><code>@RequestMapping</code></b>可以同时指定多个URL路径，用数组表示，如：<code>@RequestMapping(value = &#123;&quot;/hello&quot;, &quot;/hi&quot;&#125;)</code></li><li><b><code>@RequestMapping</code></b>可以同时指定多个请求方式，用数组表示，如：<code>@RequestMapping(value = &quot;/hello&quot;, method = &#123;RequestMethod.GET, RequestMethod.POST&#125;)</code></li><li><b><code>@RequestMapping</code></b>支持模糊匹配，* 表示任意一层字符串，**表示任意层字符串。</li></ul><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/hello/* -&gt; /hello/world  /hello/world123 [不可以是 /hello/world/123]</span><br><span class="line">/hello/** -&gt; /hello  /hello/world  /hello/world/123</span><br></pre></td></tr></table></figure></div><ul><li>方法前必须加上<b><code>@RequestMapping</code></b>注解，就算类上已经添加了<b><code>@RequestMapping</code></b>注解，否则该方法将不会被识别成外部请求。</li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span> <span class="comment">// 不能省略， url: /hello </span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></blockquote><h3 id="9-4-PageHelper分页插件"><a href="#9-4-PageHelper分页插件" class="headerlink" title="9.4 PageHelper分页插件"></a>9.4 PageHelper分页插件</h3><ul><li><strong>导入依赖</strong>：<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><strong>使用方法</strong>：<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PageHelper.startPage(pageNum, pageSize);</span><br><span class="line">List&lt;Emp&gt; list = empMapper.list();</span><br><span class="line">Page&lt;Emp&gt; page = (Page&lt;Emp&gt;)list;</span><br></pre></td></tr></table></figure></div><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814232438.png"></li></ul><h3 id="9-5-文件上传"><a href="#9-5-文件上传" class="headerlink" title="9.5 文件上传"></a>9.5 文件上传</h3><ul><li><strong>简介</strong>：<ul><li>文件上传，是指将本地图片、视频、音频等文件上传到服务器，供其它用户浏览或下载的过程。</li><li>文件上传在项目中应用非常广泛，我们经常发微博、发微信朋友圈都用到了文件上传功能。</li></ul></li><li><strong>前端页面</strong>：<ul><li>表单项 type&#x3D;”file”</li><li>表单提交方式 post</li><li>表单的enctype属性：multipart&#x2F;form-data<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240815212704.png"></li></ul></li><li><strong>服务端接收文件</strong>：<ul><li><b><code>MultipartFile</code></b>接口<ul><li>String getOriginalFilename()：获取原始文件名</li><li>void transferTo(File dest)：将文件保存到指定位置</li><li>long getSize()：获取文件大小,单位：字节</li><li>byte[] getBytes()：获取文件内容的字节数组</li><li>InputStream getInputStream()：获取接收到的文件内容的输入流</li></ul></li></ul></li></ul><h4 id="9-5-1-本地仓库"><a href="#9-5-1-本地仓库" class="headerlink" title="9.5.1 本地仓库"></a>9.5.1 本地仓库</h4><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileController</span> &#123;</span><br><span class="line">  <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> Result <span class="title function_">upload</span><span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">// 获取原始文件名</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">    <span class="comment">// 构建新的文件名</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">newFilename</span> <span class="operator">=</span> UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line">    <span class="comment">// 将文件保存在服务端 本地仓库 E:/images/ 目录下</span></span><br><span class="line">    file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:/images/&quot;</span> + newFilename));</span><br><span class="line">    <span class="keyword">return</span> Result.success();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p>在SpringBoot中，文件上传，默认单个文件允许最大大小为 1M，如果需要上传大文件，可以进行如下配置：</p><div class="code-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在application.yml中配置</span></span><br><span class="line"><span class="attr">servlet:</span></span><br><span class="line">  <span class="attr">multipart:</span></span><br><span class="line">    <span class="comment"># 配置单个文件最大上传大小</span></span><br><span class="line">    <span class="attr">max-file-size:</span> <span class="string">10MB</span></span><br><span class="line">    <span class="comment"># 配置单个请求最大上传大小（一次请求可以上传多个文件）</span></span><br><span class="line">    <span class="attr">max-request-size:</span> <span class="string">100MB</span></span><br></pre></td></tr></table></figure></div></blockquote><h4 id="9-5-2-阿里云OSS"><a href="#9-5-2-阿里云OSS" class="headerlink" title="9.5.2 阿里云OSS"></a>9.5.2 阿里云OSS</h4><ul><li><strong>引入阿里云OSS相关依赖</strong>：<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.aliyun.oss<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aliyun-sdk-oss<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>3.17.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.activation<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activation<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- no more than 2.3.3--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.glassfish.jaxb<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-runtime<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><strong>引入阿里云OSS上传文件工具类（由官方的示例代码改造而来）</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818220917.png"></li><li><strong>上传图片接口开发</strong>：<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> &#123;</span><br><span class="line">  <span class="comment">/* 本地存储</span></span><br><span class="line"><span class="comment">  @PostMapping(&quot;/upload&quot;)</span></span><br><span class="line"><span class="comment">  public Result upload(MultipartFile image) throws IOException &#123;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      // 获取原始文件名</span></span><br><span class="line"><span class="comment">      String originalFilename = image.getOriginalFilename();</span></span><br><span class="line"><span class="comment">      // 构建新的文件名</span></span><br><span class="line"><span class="comment">      String newFileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;));</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      // 将文件保存到本地</span></span><br><span class="line"><span class="comment">      image.transferTo(new File(&quot;E:\\Edge下载（定期删除）\\day11-SpringBootWeb案例\\&quot; + newFileName));</span></span><br><span class="line"><span class="comment">      return Result.success();</span></span><br><span class="line"><span class="comment">  &#125;*/</span></span><br><span class="line">  <span class="meta">@Autowired</span></span><br><span class="line">  <span class="keyword">private</span> AliOSSUtils aliOSSUtils;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> Result <span class="title function_">upload</span><span class="params">(<span class="meta">@RequestParam</span> MultipartFile image)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">      log.info(<span class="string">&quot;文件上传，文件名：&#123;&#125;&quot;</span>,image.getOriginalFilename());</span><br><span class="line">      <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> aliOSSUtils.upload(image);</span><br><span class="line">      log.info(<span class="string">&quot;文件上传完成，文件访问的url：&#123;&#125;&quot;</span>,url);</span><br><span class="line">      <span class="keyword">return</span> Result.success(url);</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></div></li></ul><h3 id="9-6-配置文件"><a href="#9-6-配置文件" class="headerlink" title="9.6 配置文件"></a>9.6 配置文件</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816100225.png"></p><ul><li><strong>yml文件基本语法</strong>：<ul><li>大小写敏感</li><li>数值前边必须有空格，作为分隔符</li><li>使用缩进表示层级关系，缩进时，不允许使用Tab键，只能使用空格（idea中会自动将Tab键转换为空格）</li><li>缩进的空格数目不重要，只要相同层级的元素左对齐即可</li><li># 表示注解，从这个字符开始到行尾，都是注释，不会被解析</li></ul></li></ul><h3 id="9-7-外部配置注入"><a href="#9-7-外部配置注入" class="headerlink" title="9.7 外部配置注入"></a>9.7 外部配置注入</h3><p>在Spring框架中，<code>@Value</code>和<code>@ConfigurationProperties</code>注解用于将外部配置的值注入到Spring管理的Bean中。它们的使用场景和功能有所不同，下面分别讲解它们的作用和使用方法。</p><ul><li><p><b><code>@Value</code> 注解</b><br><code>@Value</code>注解用于将配置文件中的单个属性值注入到Spring Bean的字段或方法中。它通常用于注入简单的属性值，比如字符串、数值等。</p><ol><li><strong>基本语法</strong>：</li></ol><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;$&#123;property.key&#125;&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String propertyValue;</span><br></pre></td></tr></table></figure></div><p>其中<code>$&#123;property.key&#125;</code>表示从配置文件（如<code>application.properties</code>或<code>application.yml</code>）中读取指定键的值。</p><ol start="2"><li><strong>默认值</strong>：<br>可以在<code>@Value</code>注解中指定一个默认值，当配置文件中找不到相应的键时，使用默认值：</li></ol><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;$&#123;property.key:defaultValue&#125;&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String propertyValue;</span><br></pre></td></tr></table></figure></div><ol start="3"><li><strong>复杂表达式</strong>：<br><code>@Value</code>也可以使用Spring表达式语言（SpEL）来处理复杂的值：</li></ol><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;#&#123;T(java.lang.Math).random() * 100&#125;&quot;)</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">double</span> randomValue;</span><br></pre></td></tr></table></figure></div><ol start="4"><li><strong>使用示例</strong><br>假设在<code>application.properties</code>文件中有以下配置：</li></ol><div class="code-container" data-rel="Properties"><figure class="iseeu highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">app.name</span>=<span class="string">MyApp</span></span><br><span class="line"><span class="attr">app.version</span>=<span class="string">1.0.0</span></span><br></pre></td></tr></table></figure></div><p>可以在Bean中使用<code>@Value</code>注解注入这些值：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;app.name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String appName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;app.version&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String appVersion;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p><b><code>@ConfigurationProperties</code> 注解</b><br><code>@ConfigurationProperties</code>用于将<strong>一组相关的配置属性</strong>绑定到一个Java类的属性上。它可以将配置文件中的属性自动映射到类的字段中，尤其适用于需要处理一组复杂或嵌套配置的场景。</p><ol><li><strong>基本语法</strong>：<br>定义一个类来对应配置文件中的一组属性：</li></ol><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;app&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppProperties</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String version;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><code>prefix = &quot;app&quot;</code>表示这个类将映射<code>application.properties</code>或<code>application.yml</code>中以<code>app</code>开头的属性。</p><ol start="2"><li><strong>启用<code>@ConfigurationProperties</code></strong>：<br>通常需要使用<code>@EnableConfigurationProperties</code>注解或<code>@Component</code>来让Spring管理这个配置类：</li></ol><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(AppProperties.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">    <span class="comment">// 其他配置</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>或者在配置类上直接使用<code>@Component</code>：<br></p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span> <span class="comment">// 如果已经在配置类中使用了@EnableConfigurationProperties，则不需要再使用@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;app&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppProperties</span> &#123;</span><br><span class="line">    <span class="comment">// fields, getters, setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p></p><ol start="3"><li>使用示例<br>假设在<code>application.properties</code>文件中有以下配置：</li></ol><div class="code-container" data-rel="Properties"><figure class="iseeu highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">app.name</span>=<span class="string">MyApp</span></span><br><span class="line"><span class="attr">app.version</span>=<span class="string">1.0.0</span></span><br><span class="line"><span class="attr">app.details.description</span>=<span class="string">This is a demo application.</span></span><br><span class="line"><span class="attr">app.details.author</span>=<span class="string">John Doe</span></span><br></pre></td></tr></table></figure></div><p>可以定义一个类来映射这些配置：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;app&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppProperties</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String version;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Details</span> <span class="variable">details</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Details</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Details</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> String description;</span><br><span class="line">        <span class="keyword">private</span> String author;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// getters and setters</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>这样，<code>AppProperties</code>类中的字段会自动映射到配置文件中的相应属性值。</p></li></ul><blockquote><p><strong>主要区别</strong></p><ul><li><strong>粒度</strong>：<code>@Value</code>用于注入单个属性值，而<code>@ConfigurationProperties</code>更适合注入一组相关的属性。</li><li><strong>类型安全</strong>：<code>@ConfigurationProperties</code>支持类型安全的配置绑定，并且可以通过构建复杂对象来映射嵌套属性，而<code>@Value</code>只能注入简单的属性值。</li><li><strong>可维护性</strong>：<code>@ConfigurationProperties</code>有助于将配置集中管理，并且对属性进行结构化处理，这对大型项目的配置管理更为友好。</li><li><strong>@Value的局限性</strong>：<code>@Value</code>只能注入单个属性值，不能注入集合、数组等。<br><strong>选择建议</strong></li><li>当需要注入单个或少量的配置值时，使用<code>@Value</code>。</li><li>当需要注入大量相关配置或希望将配置分组时，使用<code>@ConfigurationProperties</code>。</li></ul></blockquote><p>在Spring框架中，<code>@PropertySource</code>和<code>@ConfigurationProperties</code>都涉及配置属性的管理，但它们的作用和使用场景有所不同，不能简单地认为它们是类似的。<br><strong><code>@PropertySource</code>的作用</strong></p><ul><li><strong>用途</strong>：<code>@PropertySource</code>主要用于<strong>加载自定义的属性文件</strong>（如<code>.properties</code>文件）到Spring的<code>Environment</code>中。通过这个注解，Spring能够识别和使用这些属性文件中的键值对。</li><li><strong>典型场景</strong>：<ul><li><p>当你的配置文件不是默认的<code>application.properties</code>或<code>application.yml</code>，而是自定义的文件时，需要用<code>@PropertySource</code>来加载这个文件。</p></li><li><p>例如，如果你有一个名为<code>custom.properties</code>的文件，且希望Spring加载其中的配置项，那么可以使用<code>@PropertySource</code>注解：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:custom.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">    <span class="comment">// 配置类内容</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul></li><li><strong>配合<code>@Value</code>使用</strong>：<code>@PropertySource</code>通常与<code>@Value</code>注解配合使用，从加载的属性文件中读取具体的属性值并注入到Bean的字段中。</li></ul><p><strong><code>@ConfigurationProperties</code>的作用</strong></p><ul><li><strong>用途</strong>：<code>@ConfigurationProperties</code>用于将<strong>一组相关的配置属性</strong>绑定到一个Java类的属性上。它可以将配置文件中的属性自动映射到类的字段中，尤其适用于需要处理一组复杂或嵌套配置的场景。</li><li><strong>典型场景</strong>：<ul><li>当你有一组相关的配置项，比如与应用程序、数据库、消息队列等相关的多个配置项时，可以使用<code>@ConfigurationProperties</code>将这些配置项整合到一个专门的配置类中。</li><li>例如，假设有以下配置：<div class="code-container" data-rel="Properties"><figure class="iseeu highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">app.name</span>=<span class="string">MyApp</span></span><br><span class="line"><span class="attr">app.version</span>=<span class="string">1.0.0</span></span><br><span class="line"><span class="attr">app.details.description</span>=<span class="string">This is a description</span></span><br><span class="line"><span class="attr">app.details.author</span>=<span class="string">John Doe</span></span><br></pre></td></tr></table></figure></div>可以使用<code>@ConfigurationProperties</code>将这些属性映射到类中：<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;app&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppProperties</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String version;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Details</span> <span class="variable">details</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Details</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Details</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> String description;</span><br><span class="line">        <span class="keyword">private</span> String author;</span><br><span class="line">        <span class="comment">// Getters and Setters</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getters and Setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p><strong><code>@PropertySource</code> vs. <code>@ConfigurationProperties</code></strong></p><ul><li><strong><code>@PropertySource</code></strong>：负责告诉Spring从哪里加载配置文件，并与<code>@Value</code>结合使用，允许单独注入具体的配置值。<code>@PropertySource</code>只加载属性文件，不负责属性的绑定和注入。</li><li><strong><code>@ConfigurationProperties</code></strong>：负责将一组相关的配置属性映射到一个Java类中，通常用于处理结构化的、较复杂的配置。<code>@ConfigurationProperties</code>不仅加载属性，还绑定它们到类的字段上，使配置的管理更加方便和结构化。</li></ul><p><strong>总结</strong></p><ul><li><strong>相似点</strong>：两者都与配置属性的处理有关，但<code>@PropertySource</code>更侧重于属性文件的加载，而<code>@ConfigurationProperties</code>侧重于属性值的绑定和管理。</li><li><strong>使用场景不同</strong>：<code>@PropertySource</code>用于从自定义的文件加载属性，而<code>@ConfigurationProperties</code>则用于将这些属性整合到Java类中进行统一管理。 ^223021</li></ul></blockquote></li></ul></li></ul><h3 id="9-8-登录校验"><a href="#9-8-登录校验" class="headerlink" title="9.8 登录校验"></a>9.8 登录校验</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816154423.png"></p><h4 id="9-8-1-会话技术"><a href="#9-8-1-会话技术" class="headerlink" title="9.8.1 会话技术"></a>9.8.1 会话技术</h4><ul><li><strong>会话</strong>：用户打开浏览器，访问web服务器的资源，会话建立，直到有一方断开连接，会话结束。在一次会话中可以包含<strong>多次</strong>请求和响应。</li><li><strong>会话跟踪</strong>：一种维护浏览器状态的方法，服务器需要识别多次请求是否来自同一浏览器，以便在同一次会话的多次请求间<strong>共享数据</strong>。</li><li><strong>会话跟踪方案</strong>：<ul><li>客户端会话跟踪技术：Cookie</li><li>服务器会话跟踪技术：Session</li><li>令牌技术：Token<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816161533.png"></li></ul></li></ul><p><strong>Cookie</strong>：</p><ol><li><p><strong>什么是Cookie？</strong><br>Cookie是由服务器生成并发送到客户端（浏览器）的小型文本文件。客户端会将这些Cookie存储在本地，并在每次访问相同服务器时将它们包含在HTTP请求中，发送回服务器。</p></li><li><p><strong>Cookie的工作原理</strong></p></li></ol><ul><li><p><strong>生成和存储</strong>：当用户第一次访问网站时，服务器可以生成一个或多个Cookie，并通过HTTP响应头将它们发送到客户端。客户端浏览器接收到这些Cookie后，会根据服务器指示（如<code>Expires</code>或<code>Max-Age</code>属性）将Cookie存储在本地。</p></li><li><p><strong>发送Cookie</strong>：在用户的后续请求中，浏览器会自动将与该域名匹配的所有Cookie附加到HTTP请求中，发送给服务器。服务器可以读取这些Cookie的值，以便识别用户的身份或保持会话状态。</p></li><li><p><strong>Cookie属性</strong>：</p><ul><li><code>Name=Value</code>：Cookie的名称和值，浏览器会在后续请求中发送这些信息。</li><li><code>Domain</code>：指定Cookie属于哪个域名，浏览器只会在访问该域名时发送此Cookie。</li><li><code>Path</code>：指定Cookie适用的路径，只有访问此路径或子路径时，Cookie才会被发送。</li><li><code>Expires/Max-Age</code>：设置Cookie的过期时间，决定Cookie在客户端存储的时长。</li><li><code>HttpOnly</code>：防止客户端脚本访问Cookie，增加安全性。</li><li><code>Secure</code>：指示Cookie只能通过HTTPS发送，防止Cookie在传输过程中被截获。</li><li><code>SameSite</code>：防止跨站请求伪造攻击（CSRF）。</li></ul></li></ul><ol start="3"><li><strong>Cookie的应用场景</strong></li></ol><ul><li><strong>会话管理</strong>：保存用户登录状态，跟踪用户在网站上的活动。</li><li><strong>个性化设置</strong>：保存用户偏好，如主题、语言选择等。</li><li><strong>跟踪和分析</strong>：用于广告跟踪、用户行为分析等。</li></ul><ol start="4"><li><strong>Cookie的优缺点</strong></li></ol><ul><li><p><strong>优点</strong>：</p><ul><li>易于使用：可以在客户端和服务器之间简单地传递信息。</li><li>跨请求保持状态：允许在多个请求之间保持状态（如用户登录状态）。</li></ul></li><li><p><strong>缺点</strong>：</p><ul><li>安全性问题：存储在客户端，容易被篡改或窃取。</li><li>数据量有限：通常一个Cookie的大小限制为4KB，且总数有限。</li><li>性能影响：每次请求都会带上Cookie，可能影响带宽和性能。</li><li>不能跨域。</li></ul></li></ul><blockquote><p>跨域问题只是针对浏览器的，后端不同服务器之间的数据传输不会存在跨域问题</p></blockquote><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816161757.png"></p><ul><li><strong>样例</strong></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置Cookie</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/c1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">cookie1</span><span class="params">(HttpServletResponse response)</span>&#123;</span><br><span class="line">        response.addCookie(<span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;login_username&quot;</span>, <span class="string">&quot;itheima&quot;</span>));<span class="comment">// 设置Cookie/响应Cookie</span></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取Cookie 两种方法</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/c2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">cookie2</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        Cookie[] cookies = request.getCookies();</span><br><span class="line">        <span class="keyword">for</span>(Cookie cookie : cookies)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cookie.getName().equals(<span class="string">&quot;login_username&quot;</span>))&#123;</span><br><span class="line">                log.info(<span class="string">&quot;login_username:&#123;&#125;&quot;</span>,cookie.getValue());</span><br><span class="line">                <span class="keyword">return</span> Result.success();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;未找到指定Cookie&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/c3&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">cookie3</span><span class="params">(<span class="meta">@CookieValue(&quot;login_username&quot;)</span> String username)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.success(username);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>Session</strong>：</p><ol><li><p><strong>什么是Session？</strong><br>Session是服务器端的一种会话机制，用于跟踪和保存用户的状态和数据。与Cookie不同，Session数据存储在服务器端，客户端只保留一个标识符（通常是Session ID）。</p></li><li><p><strong>Session的工作原理</strong></p></li></ol><ul><li><p><strong>生成Session</strong>：当用户访问服务器时，服务器会创建一个Session，并生成一个唯一的Session ID。这个Session ID会通过Cookie或URL参数传递给客户端。</p></li><li><p><strong>存储和检索</strong>：服务器将与该Session相关的数据存储在服务器端（如内存、数据库或文件系统）。当客户端再次发送请求时，会带上Session ID，服务器根据这个ID检索相应的Session数据。</p></li><li><p><strong>Session的生命周期</strong>：</p><ul><li><strong>创建</strong>：Session在用户首次访问时创建，并分配一个唯一的Session ID。</li><li><strong>过期</strong>：Session有一定的有效期（可配置），当用户长时间不活动，Session会自动过期和销毁。</li><li><strong>销毁</strong>：用户主动登出或Session过期后，Session数据会从服务器端删除。</li></ul></li></ul><ol start="3"><li><strong>Session的应用场景</strong></li></ol><ul><li><strong>用户认证</strong>：保存用户登录信息，确保用户在会话期间不需要重复登录。</li><li><strong>购物车功能</strong>：保存用户的购物车内容，在整个会话期间保持一致。</li><li><strong>用户跟踪</strong>：跟踪用户在网站上的操作，并根据这些操作做出响应。</li></ul><ol start="4"><li><strong>Session的优缺点</strong></li></ol><ul><li><p><strong>优点</strong>：</p><ul><li><strong>安全性较高</strong>：由于Session数据存储在服务器端，不容易被用户篡改或窃取。</li><li><strong>支持复杂数据</strong>：可以在Session中存储复杂的对象和数据结构。</li><li><strong>保持状态</strong>：适合需要在多个请求之间保持复杂状态的应用。</li></ul></li><li><p><strong>缺点</strong>：</p><ul><li><strong>占用服务器资源</strong>：每个用户的Session数据都存储在服务器上，用户数量多时可能导致服务器资源消耗过大。</li><li><strong>扩展性问题</strong>：在分布式系统中，Session管理较为复杂，需要采取措施（如Session共享、Session粘性）来保证用户会话的一致性。</li></ul></li><li><p><strong>样例</strong></p></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SessionController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 往HttpSession中存储值</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/s1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">session1</span><span class="params">(HttpSession session)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;HttpSession-s1:&#123;&#125;&quot;</span>, session.hashCode());</span><br><span class="line">        session.setAttribute(<span class="string">&quot;loginUser&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>); <span class="comment">// 往session中存储数据</span></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 往HttpSession中获取值</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">session2</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">        log.info(<span class="string">&quot;HttpSession-s2:&#123;&#125;&quot;</span>, session.hashCode());</span><br><span class="line"></span><br><span class="line">        <span class="type">Object</span> <span class="variable">loginUser</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;loginUser&quot;</span>); <span class="comment">// 从session中获取数据</span></span><br><span class="line">        log.info(<span class="string">&quot;loginUser:&#123;&#125;&quot;</span>, loginUser);</span><br><span class="line">        <span class="keyword">return</span> Result.success(loginUser);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816164049.png"></p><p><strong>JWT</strong>：<br>JWT（JSON Web Token）是一种常用的认证机制，它允许在网络应用中安全地在客户端和服务器之间传递信息。与Cookie和Session相比，JWT有着独特的工作方式和应用场景。</p><ol><li><strong>什么是JWT？</strong><br>JWT是一种开放标准（RFC 7519），用于在各方之间作为JSON对象安全传输信息。信息可以被验证和信任，因为它是数字签名的。JWT通常用于认证和授权。</li><li><strong>JWT的工作原理</strong></li></ol><ul><li><p><strong>生成JWT</strong>：当用户成功登录后，服务器会生成一个JWT。这个Token由三部分组成：<strong>Header（头部）</strong>、<strong>Payload（负载）<strong>和</strong>Signature（签名）</strong>。</p><ul><li><strong>Header</strong>：指定Token的类型（通常是JWT）和签名算法（如HMAC SHA256或RSA）。例如：{“alg”:”HS256”,”type”:”JWT”}</li><li><strong>Payload</strong>：包含声明（Claims），即需要传输的用户信息、默认信息或其他数据。这些数据是公开的，任何人都可以解码查看。例如：{“id”:1,”username”:”Tom”}</li><li><strong>Signature</strong>：由Header和Payload通过指定的算法加密生成，用于验证Token的真实性，确保安全性。</li></ul></li><li><p><strong>生成的JWT通常类似这样</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816174046.png"></p></li><li><p><strong>测试样例</strong>：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 在pom.xml中添加依赖：</span></span><br><span class="line"> &lt;!--JWT配置--&gt;</span><br><span class="line">	&lt;dependency&gt;</span><br><span class="line">		&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;</span><br><span class="line">		&lt;artifactId&gt;jjwt&lt;/artifactId&gt;</span><br><span class="line">		&lt;version&gt;<span class="number">0.9</span><span class="number">.1</span>&lt;/version&gt; &lt;!-- 请检查最新版本号 --&gt;</span><br><span class="line">	&lt;/dependency&gt;</span><br><span class="line"> <span class="comment">// 测试样例</span></span><br><span class="line"> <span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">genjwt</span><span class="params">()</span>&#123;</span><br><span class="line">	Map&lt;String, Object&gt; claims = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">	claims.put(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">	claims.put(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">	<span class="type">String</span> <span class="variable">jwt</span> <span class="operator">=</span> Jwts.builder()</span><br><span class="line">			.setClaims(claims) <span class="comment">// 自定义内容(载荷)</span></span><br><span class="line">			.signWith(SignatureAlgorithm.HS256, <span class="string">&quot;lusy&quot;</span>)<span class="comment">// 签名算法</span></span><br><span class="line">			.setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + <span class="number">12</span> * <span class="number">3600</span> * <span class="number">1000</span>)) <span class="comment">// 有效期 单位 ms</span></span><br><span class="line">			.compact();</span><br><span class="line">	System.out.println(jwt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p><strong>传递JWT</strong>：JWT生成后，服务器会将其返回给客户端。客户端通常将JWT存储在<code>Local Storage</code>、<code>Session Storage</code>或Cookie中。</p></li><li><p><strong>验证JWT</strong>：在后续请求中，客户端会将JWT包含在请求头（通常是<code>Authorization: Bearer &lt;token&gt;</code>）中发送给服务器。服务器接收到JWT后，会使用相同的签名算法和密钥验证Token的真实性，并从Payload中提取用户信息。</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseJwt</span><span class="params">()</span>&#123;</span><br><span class="line">	<span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> Jwts.parser()</span><br><span class="line">			.setSigningKey(<span class="string">&quot;lusy&quot;</span>)<span class="comment">// 指定签名秘钥</span></span><br><span class="line">			.parseClaimsJws(<span class="string">&quot;eyJhbGciOiJIUzI1NiJ9.eyJpZCI6IjEiLCJleHAiOjE3MjM4NDk2MzIsInVzZXJuYW1lIjoiVG9tIn0.KrQ-8Y4ISZds9DZ_OHaXvrrLM-4By84ngwV8vz9A6bE&quot;</span>)<span class="comment">// 解析令牌</span></span><br><span class="line">			.getBody();</span><br><span class="line">	System.out.println(claims);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p><strong>注意事项</strong>：</p><ul><li>JWT校验时使用的签名秘钥，必须和生成的JWT令牌时使用的秘钥是配套的。</li><li>如果JWT令牌解析校验时报错，则说明JWT令牌被篡改或失效了，令牌非法。</li></ul></blockquote></li></ul><ol start="3"><li><strong>JWT的应用场景</strong></li></ol><ul><li><p><strong>用户认证</strong>：在用户登录成功后，服务器生成JWT并返回给客户端。客户端在后续请求中携带这个JWT，以证明自己的身份。</p></li><li><p><strong>授权</strong>：服务器可以在JWT的Payload中包含用户的权限信息（如角色、权限范围），以决定用户能访问哪些资源。</p></li><li><p><strong>信息交换</strong>：JWT可以安全地传输信息，因为它是经过签名的，接收方可以验证信息的来源和完整性。</p></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816191747.png"></p><ol start="4"><li><strong>JWT的优缺点</strong></li></ol><ul><li><p><strong>优点</strong>：</p><ul><li><strong>无状态</strong>：JWT是无状态的，不需要在服务器端存储会话信息，这使得它非常适合分布式系统。</li><li><strong>跨域支持</strong>：JWT不依赖于Cookie，因此可以在不同域名之间轻松传递。</li><li><strong>可扩展性</strong>：JWT的Payload部分可以包含自定义的声明，灵活性高。</li></ul></li><li><p><strong>缺点</strong>：</p><ul><li><strong>安全性风险</strong>：JWT的Payload部分是可见的，尽管它是签名的，但不能加密。如果存储敏感信息，可能会有安全隐患。</li><li><strong>Token大小</strong>：JWT通常比传统的Session ID大，因为它包含了更多信息，这可能增加网络传输的开销。</li><li><strong>Token管理</strong>：一旦JWT被签发，服务器无法主动撤销Token的权限，除非采用额外的策略（如Token黑名单）。</li></ul></li></ul><p><strong>会话跟踪方案对比</strong><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816191918.png"></p><h4 id="9-8-2-过滤器Filter"><a href="#9-8-2-过滤器Filter" class="headerlink" title="9.8.2 过滤器Filter"></a>9.8.2 过滤器Filter</h4><ul><li><p><strong>概述</strong>：</p><ul><li>概念：Filter 过滤器，是JavaWeb三大组件(Servlet,Filter,Listener)之一。</li><li>过滤器可以把对资源的请求拦截下来，从而实现一些特殊的功能。</li><li>过滤器一般完成一些通用的操作，比如：登录校验，统一编码处理、敏感字符处理等。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816192401.png"></li></ul></li><li><p><strong>快速入门</strong>：</p><ol><li>创建一个Filter类，实现Filter接口，重写接口中的方法。</li><li>配置Filter：Filter类加上<code>@WebFilter</code>注解，配置拦截资源的路径，引导类上加<code>@ServletComponentScan</code>注解开启Servlet组件支持。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816192829.png"></li></ol></li><li><p><strong>拦截路径</strong>：<br>Filter可以根据需求，配置不同的拦截资源路径：</p><table><thead><tr><th align="left">拦截路径</th><th align="left">urlPatterns值</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">拦截具体路径</td><td align="left"><code>/login</code></td><td align="left">只有访问 <code>/login</code> 路径时，才会被拦截</td></tr><tr><td align="left">目录拦截</td><td align="left"><code>/emps/*</code></td><td align="left">访问 <code>/emps/</code> 下的所有资源，都会被拦截</td></tr><tr><td align="left">拦截所有</td><td align="left"><code>/*</code></td><td align="left">访问所有资源，都会被拦截</td></tr></tbody></table><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebFilter(urlPatterns = &quot;/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p><strong>执行流程</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816193703.png"></p></li><li><p><strong>过滤器链</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816193903.png"></p><blockquote><p><strong>注意</strong>：<br>存在多个过滤器时，过滤器的执行顺序是按照过滤器配置的顺序执行的。但如果没有明确指定执行顺序（例如通过@Order注解），那么容器通常会根据类名的字典顺序（字母顺序）来决定过滤器的执行顺序。</p></blockquote></li></ul><h4 id="9-8-3-拦截器-Interceptor"><a href="#9-8-3-拦截器-Interceptor" class="headerlink" title="9.8.3 拦截器(Interceptor)"></a>9.8.3 拦截器(Interceptor)</h4><ul><li><p><strong>概述</strong>：</p><ul><li>概念：是一种动态拦截方法调用的机制，类似于过滤器。Spring框架中提供的，用来动态拦截控制器方法的执行。</li><li>作用：拦截请求，在指定的方法调用前后，根据业务需要执行预先设定的代码。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202319.png"></li></ul></li><li><p><strong>快速入门</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202449.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202458.png"><br><strong>WebMvcConfigurer</strong>： [[WebMvcConfigurer#^mk-20240915210900|WebMvcConfigurer接口的讲解]]</p></li><li><p><strong>拦截器可以根据需求，配置不同的拦截路径</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202719.png"></p></li><li><p><strong>执行流程</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202805.png"></p></li><li><p><strong>多个拦截器执行顺序</strong>：</p><ol><li><strong>preHandle() 方法</strong>：SpringMVC 会把所有拦截器收集到一起，然后按照配置顺序调用各个 preHandle() 方法。</li><li><strong>postHandle() 方法</strong>：SpringMVC 会把所有拦截器收集到一起，然后按照配置相反的顺序调用各个 postHandle() 方法。</li><li><strong>afterCompletion() 方法</strong>：SpringMVC 会把所有拦截器收集到一起，然后按照配置相反的顺序调用各个 afterCompletion() 方法。</li></ol></li></ul><h4 id="9-8-4-异常处理"><a href="#9-8-4-异常处理" class="headerlink" title="9.8.4 异常处理"></a>9.8.4 异常处理</h4><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202951.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816203024.png"></p><h3 id="9-9-参数校验"><a href="#9-9-参数校验" class="headerlink" title="9.9 参数校验"></a>9.9 参数校验</h3><blockquote><p>在 Web 应用三层架构体系中，表述层负责接收浏览器提交的数据，业务逻辑层负责数据的处理。为了能够让业务逻辑层基于正确的数据进行处理，我们需要在表述层对数据进行检查，将错误的数据隔绝在业务逻辑层之外。</p></blockquote><p><strong>校验概述</strong><br>JSR 303 是 Java 为 Bean 数据合法性校验提供的标准框架，它已经包含在 JavaEE 6.0 标准中。JSR 303 通过在 Bean 属性上标注类似于 @NotNull、@Max 等标准的注解指定校验规则，并过标准的验证接口对Bean进行验证。</p><table><thead><tr><th>注解</th><th>规则</th></tr></thead><tbody><tr><td><b><code>@Null</code></b></td><td>标注值必须为 null</td></tr><tr><td><b><code>@NotNull</code></b></td><td>标注值不可为 null</td></tr><tr><td><b><code>@AssertTrue</code></b></td><td>标注值必须为 true</td></tr><tr><td><b><code>@AssertFalse</code></b></td><td>标注值必须为 false</td></tr><tr><td><b><code>@Min(value)</code></b></td><td>标注值必须大于或等于 value</td></tr><tr><td><b><code>@Max(value)</code></b></td><td>标注值必须小于或等于 value</td></tr><tr><td><b><code>@DecimalMin(value)</code></b></td><td>标注值必须大于或等于 value</td></tr><tr><td><b><code>@DecimalMax(value)</code></b></td><td>标注值必须小于或等于 value</td></tr><tr><td><b><code>@Size(max,min)</code></b></td><td>标注值大小必须在 max 和 min 限定的范围内</td></tr><tr><td><b><code>@Digits(integer,fratction)</code></b></td><td>标注值值必须是一个数字，且必须在可接受的范围内</td></tr><tr><td><b><code>@Past</code></b></td><td>标注值只能用于日期型，且必须是过去的日期</td></tr><tr><td><b><code>@Future</code></b></td><td>标注值只能用于日期型，且必须是将来的日期</td></tr><tr><td><b><code>@Pattern(value)</code></b></td><td>标注值必须符合指定的正则表达式</td></tr></tbody></table><p>JSR 303 只是一套标准，需要提供其实现才可以使用。Hibernate Validator 是 JSR 303 的一个参考实现，除支持所有标准的校验注解外，它还支持以下的扩展注解：</p><table><thead><tr><th>注解</th><th>规则</th></tr></thead><tbody><tr><td><b><code>@Email</code></b></td><td>标注值必须是格式正确的 Email 地址</td></tr><tr><td><b><code>@Length</code></b></td><td>标注值字符串大小必须在指定的范围内</td></tr><tr><td><b><code>@NotEmpty</code></b></td><td>标注值字符串不能是空字符串</td></tr><tr><td><b><code>@Range</code></b></td><td>标注值必须在指定的范围内</td></tr></tbody></table><p>Spring 4.0 版本已经拥有自己独立的数据校验框架，同时支持 JSR 303 标准的校验框架。Spring 在进行数据绑定时，可同时调用校验框架完成数据校验工作。在SpringMVC 中，可直接通过注动 <b><code>@EnableWebMvc</code></b> 的方式进行数据校验。Spring 的 LocalValidatorFactoryBean 既实现了 Spring 的 Validator 接口，也实现了 JSR 303 的 Validator 接口。只要在Spring容器定义一个LocalValidatorFactoryBean，即可将其注入到需要数据校验的 Bean中。Spring本身并没有提供JSR 303的实现，所以必须将JSR 303的实现者的jar包放到类路径下。</p><p>配置 <b><code>@EnableWebMvc</code></b> 后，SpringMVC 会默认装配好一个 LocalValidatorFactoryBean，通过在处理方法的入参上标注 @Validated 注解即可让 SpringMVC 在完成数据绑定后执行数据校验的作。<br><strong>操作演示</strong></p><ul><li><strong>导入依赖</strong></li></ul><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 校验注解 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jakarta.platform<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jakarta.jakartaee-web-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 校验注解实现--&gt;</span>        </span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate.validator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator-annotation-processor --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate.validator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator-annotation-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div><ul><li><strong>应用校验注解</strong></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.Email;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.Min;</span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.constraints.Length;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * projectName: com.atguigu.pojo</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="comment">//age   1 &lt;=  age &lt; = 150</span></span><br><span class="line">    <span class="meta">@Min(10)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//name 3 &lt;= name.length &lt;= 6</span></span><br><span class="line">    <span class="meta">@Length(min = 3,max = 10)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//email 邮箱格式</span></span><br><span class="line">    <span class="meta">@Email</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEmail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmail</span><span class="params">(String email)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><ul><li><strong>handler标记和绑定错误收集</strong></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Validated</span> 代表应用校验注解! 必须添加!</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;save&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">save</span><span class="params">(<span class="meta">@Validated</span> <span class="meta">@RequestBody</span> User user,</span></span><br><span class="line"><span class="params">                       //在实体类参数和 BindingResult 之间不能有任何其他参数, BindingResult可以接受错误信息,避免信息抛出!</span></span><br><span class="line"><span class="params">                       BindingResult result)</span>&#123;</span><br><span class="line">       <span class="comment">//判断是否有信息绑定错误! 有可以自行处理!</span></span><br><span class="line">        <span class="keyword">if</span> (result.hasErrors())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;错误&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">errorMsg</span> <span class="operator">=</span> result.getFieldError().toString();</span><br><span class="line">            <span class="keyword">return</span> errorMsg;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//没有,正常处理业务即可</span></span><br><span class="line">        System.out.println(<span class="string">&quot;正常&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p><strong>易混总结</strong><br>@NotNull、@NotEmpty、@NotBlank 都是用于在数据校验中检查字段值是否为空的注解，但是它们的用法和校验规则有所不同。</p><ol><li><p>@NotNull (包装类型不为null)</p><p>@NotNull 注解是 JSR 303 规范中定义的注解，当被标注的字段值为 null 时，会认为校验失败而抛出异常。该注解不能用于字符串类型的校验，若要对字符串进行校验，应该使用 @NotBlank 或 @NotEmpty 注解。</p></li><li><p>@NotEmpty (集合类型长度大于0)</p><p>@NotEmpty 注解同样是 JSR 303 规范中定义的注解，对于 CharSequence、Collection、Map 或者数组对象类型的属性进行校验，校验时会检查该属性是否为 Null 或者 size()&#x3D;&#x3D;0，如果是的话就会校验失败。但是对于其他类型的属性，该注解无效。需要注意的是只校验空格前后的字符串，如果该字符串中间只有空格，不会被认为是空字符串，校验不会失败。</p></li><li><p>@NotBlank （字符串，不为null，切不为” “字符串）</p><p>@NotBlank 注解是 Hibernate Validator 附加的注解，对于字符串类型的属性进行校验，校验时会检查该属性是否为 Null 或 “” 或者只包含空格，如果是的话就会校验失败。需要注意的是，@NotBlank 注解只能用于字符串类型的校验。</p></li></ol><p>总之，这三种注解都是用于校验字段值是否为空的注解，但是其校验规则和用法有所不同。在进行数据校验时，需要根据具体情况选择合适的注解进行校验。</p></blockquote><h2 id="10-事务管理"><a href="#10-事务管理" class="headerlink" title="10. 事务管理"></a>10. 事务管理</h2><h3 id="10-1-事务回顾"><a href="#10-1-事务回顾" class="headerlink" title="10.1 事务回顾"></a>10.1 事务回顾</h3><ul><li><strong>概念</strong>：事务是一组操作的集合，它是一个不可分割的工作单位，这些操作<font color="red">要么同时成功，要么同时失败</font></li><li><strong>操作</strong>：<ul><li><strong>开启事务（一组操作开始前，开启事务）</strong>：<b><code>start transaction / begin</code>;</b></li><li><strong>提交事务（这组操作全部成功后，提交事务）</strong>：<b><code>commit</code>;</b></li><li><strong>回滚事务（中间任何一个操作出现异常，回滚事务）</strong>：<b><code>rollback</code>;</b></li></ul></li></ul><h3 id="10-2-Spring事务管理"><a href="#10-2-Spring事务管理" class="headerlink" title="10.2 Spring事务管理"></a>10.2 Spring事务管理</h3><ul><li><strong>注解</strong>：<b><code>@Transactional</code></b></li><li><strong>位置</strong>：业务(Service)层的方法上、类上、接口上</li><li><strong>作用</strong>：将当前方法交给Spring进行事务管理，方法执行前，开启事务；成功执行完毕，提交事务；出现异常，回滚事务<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817205221.png"></li><li><strong>属性</strong>：<ul><li><b><code>rollbackFor</code>回滚</b>：默认情况下，只有出现<b><code>RuntimeException</code></b>才会回滚异常，<code>rollbackFor</code>属性用于控制出现何种异常类型，回滚事务</li><li><b><code>noRollbackFor</code>不回滚</b>：指定哪些异常不会回滚, 默认没有指定,如果指定,应该在rollbackFor的范围内!<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817205844.png"><blockquote><p>如果<code>rollbackFor</code>和<code>noRollbackFor</code>同时指定同一类型，Spring的行为会出现冲突和不确定性</p></blockquote></li><li><b><code>timeout</code>超时时间</b>：当事务运行时间超过了指定的时间限制，事务将被强制回滚，并抛出一个 <strong>TransactionTimedOutException</strong> 异常。默认值为-1，表示永不超时<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240822140059.png"></li><li><b><code>propagation</code>传播行为</b>：指的是当一个事务方法被另一个事务方法调用时，这个事务方法应该如何进行事务控制<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817210241.png"></li></ul></li></ul><table><thead><tr><th>属性值</th><th>含义</th></tr></thead><tbody><tr><td><code>REQUIRED</code></td><td>【默认值】需要事务，有则加入，无则创建新事务</td></tr><tr><td><code>REQUIRES_NEW</code></td><td>需要新事务，无论有无，总是创建新事务</td></tr><tr><td><code>SUPPORTS</code></td><td>支持事务，有则加入，无则在无事务状态中运行</td></tr><tr><td><code>NOT_SUPPORTED</code></td><td>不支持事务，在无事务状态下运行，如果当前存在已有事务，则挂起当前事务</td></tr><tr><td><code>MANDATORY</code></td><td>必须有事务，否则抛出异常</td></tr><tr><td><code>NEVER</code></td><td>必须没有事务，否则抛出异常</td></tr></tbody></table><blockquote><ol><li><code>REQUIRED</code>：大部分情况下都是用该传播行为即可。</li><li><code>REQUIRES_NEW</code>：当我们不希望事务之间相互影响时，可以使用该传播行为。比如：下订单前需要记录日志，不论订单保存成功与否，都需要保证日志记录能够记录成功。</li></ol></blockquote><ul><li><b><code>isolation</code>隔离级别</b>：设置事务的隔离级别,mysql默认是repeatable read!</li></ul><ol><li><strong>读未提交（Read Uncommitted）</strong>：事务可以读取未被提交的数据，容易产生脏读、不可重复读和幻读等问题。实现简单但不太安全，一般不用。</li><li><strong>读已提交（Read Committed）</strong>：事务只能读取已经提交的数据，可以避免脏读问题，但可能引发不可重复读和幻读。</li><li><strong>可重复读（Repeatable Read）</strong>：在一个事务中，相同的查询将返回相同的结果集，不管其他事务对数据做了什么修改。可以避免脏读和不可重复读，但仍有幻读的问题。</li><li><strong>串行化（Serializable）</strong>：最高的隔离级别，完全禁止了并发，只允许一个事务执行完毕之后才能执行另一个事务。可以避免以上所有问题，但效率较低，不适用于高并发场景。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240822141436.png"><blockquote><p><strong>开启spring事务管理日志</strong>：<br>在配置文件中添加<br></p><div class="code-container" data-rel="Yml"><figure class="iseeu highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&gt;logging:</span></span><br><span class="line"><span class="attr">level:</span></span><br><span class="line">		<span class="attr">org.springframework.jdbc.support.JdbcTransactionManager:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure></div><br><strong>注意事项</strong>：<br>如果在非SpringBoot框架中想使用事务功能，需要在配置类添加<b><code>@EnableTransactionManagement</code></b>注解，编写一个Spring事务管理器配置类，并在pom.xml中添加引入spring-tx依赖。<br><b><code>@EnableTransactionManagement</code></b> 是Spring中的一个注解，用于启用Spring的注解驱动的事务管理功能。它通常与 <strong>@Configuration</strong> 注解一起使用，配置类中声明它表示希望在应用程序中使用基于注解的事务管理。<p></p><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 声明式事务依赖--&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org. springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div></blockquote></li></ol><h2 id="11-AOP"><a href="#11-AOP" class="headerlink" title="11.AOP"></a>11.AOP</h2><h3 id="11-1-概述"><a href="#11-1-概述" class="headerlink" title="11.1 概述"></a>11.1 概述</h3><ul><li><strong>AOP</strong>：Aspect Oriented Programming（面向切面编程，面向方法编程），其实就是面对特定方法编程。</li><li><strong>场景</strong>：<br>案例部分功能运行较慢，定位执行耗时较长的业务方法，此时需要统计每一个业务方法的执行耗时<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817212432.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817212504.png"><ul><li>记录操作日志</li><li>权限控制</li><li>事务管理</li></ul></li><li><strong>优势</strong>：<ul><li>代码无侵入</li><li>减少重复代码</li><li>提高开发效率</li><li>维护方便</li></ul></li><li><strong>实现</strong>：<br>动态代理是面向切面编程最主流的实现。而SpringAOP是Spring框架的高级技术，旨在管理Bean对象的过程中，主要通过底层的动态代理机制，对特定的方法进行编程。</li></ul><h3 id="11-2-快速入门"><a href="#11-2-快速入门" class="headerlink" title="11.2 快速入门"></a>11.2 快速入门</h3><p>统计各个业务层方法执行耗时</p><ul><li><strong>导入依赖</strong>：在pom.xml中添加AOP依赖<div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><strong>编写AOP依赖</strong>：针对特定的方法根据业务需要进行编程<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeAspect</span> &#123;</span><br><span class="line">  <span class="meta">@Around(&quot;execution(* com.lusy.service.impl.*.*(..))&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> Object <span class="title function_">recordTime</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">    <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> pjp.proceed(); <span class="comment">// 调用原始方法运行</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    log.info(pjp.getSignature() + <span class="string">&quot;方法执行耗时：&#123;&#125;ms&quot;</span> + (end - start));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p><strong>注意事项</strong>：<br>如果不是在springboot框架中使用AOP，还需要在配置类中添加<code>@EnableAspectJAutoProxy</code>注解开启AOP功能</p></blockquote></li></ul><h3 id="11-3-AOP核心概念"><a href="#11-3-AOP核心概念" class="headerlink" title="11.3 AOP核心概念"></a>11.3 AOP核心概念</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817220556.png"></p><h3 id="11-4-通知类型"><a href="#11-4-通知类型" class="headerlink" title="11.4 通知类型"></a>11.4 通知类型</h3><ul><li><b><code>@Around</code></b>：环绕通知，此注解标注的通知方法在目标方法前、后都被执行</li><li><b><code>@Before</code></b>：前置通知，此注解标注的通知方法在目标方法前被执行</li><li><b><code>@After</code></b>：后置通知，此注解标注的通知方法在目标方法后被执行，无论是否有异常都会执行</li><li><b><code>@AfterReturning</code></b>：返回后通知，此注解标注的通知方法在目标方法正常返回后被执行，有异常不会执行</li><li><b><code>@AfterThrowing</code></b>：异常后通知，此注解标注的通知方法在目标方法抛出异常后被执行，正常返回不会执行<blockquote><p><strong>注意事项</strong>：</p><ul><li><b><code>@Around</code></b>环绕通知需要自己调用 <code>ProceedingJoinPoint.proceed()</code>方法来让原始方法执行，其它通知则不需要考虑目标方法执行</li><li><b><code>@Around</code></b>环绕通知的返回值，必须指定为Object类型，来接收原始方法的返回值</li><li><b><code>@AfterReturning</code></b>和<b><code>@AfterThrowing</code></b>通知，如果需要指定返回值来接收原始方法的返回值或异常对象，可以通过各自的属性值<b><code>returning</code></b>和<b><code>throwing</code></b>来指定接收返回值或异常对象的变量名。</li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @AfterReturning注解标记返回通知方法</span></span><br><span class="line"><span class="comment">// 在返回通知中获取目标方法返回值分两步：</span></span><br><span class="line"><span class="comment">// 第一步：在@AfterReturning注解中通过returning属性设置一个名称</span></span><br><span class="line"><span class="comment">// 第二步：使用returning属性设置的名称在通知方法中声明一个对应的形参</span></span><br><span class="line"><span class="meta">@AfterReturning(</span></span><br><span class="line"><span class="meta">       value = &quot;execution(public int com.atguigu.aop.api.Calculator.add(int,int))&quot;,</span></span><br><span class="line"><span class="meta">       returning = &quot;targetMethodReturnValue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printLogAfterCoreSuccess</span><span class="params">(JoinPoint joinPoint, Object targetMethodReturnValue)</span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">   </span><br><span class="line">   System.out.println(<span class="string">&quot;[AOP返回通知] &quot;</span>+methodName+<span class="string">&quot;方法成功结束了，返回值是：&quot;</span> + targetMethodReturnValue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @AfterThrowing注解标记异常通知方法</span></span><br><span class="line"><span class="comment">// 在异常通知中获取目标方法抛出的异常分两步：</span></span><br><span class="line"><span class="comment">// 第一步：在@AfterThrowing注解中声明一个throwing属性设定形参名称</span></span><br><span class="line"><span class="comment">// 第二步：使用throwing属性指定的名称在通知方法声明形参，Spring会将目标方法抛出的异常对象从这里传给我们</span></span><br><span class="line"><span class="meta">@AfterThrowing(</span></span><br><span class="line"><span class="meta">        value = &quot;execution(public int com.atguigu.aop.api.Calculator.add(int,int))&quot;,</span></span><br><span class="line"><span class="meta">        throwing = &quot;targetMethodException&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printLogAfterCoreException</span><span class="params">(JoinPoint joinPoint, Throwable targetMethodException)</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> joinPoint.getSignature().getName();</span><br><span class="line">    </span><br><span class="line">    System.out.println(<span class="string">&quot;[AOP异常通知] &quot;</span>+methodName+<span class="string">&quot;方法抛异常了，异常类型是：&quot;</span> + targetMethodException.getClass().getName ());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></blockquote></li></ul><h3 id="11-5-Pointcut注解"><a href="#11-5-Pointcut注解" class="headerlink" title="11.5 @Pointcut注解"></a>11.5 @Pointcut注解</h3><p>该注解的作用是将公共的切点表达式抽取出来，需要用到时引用该切点表达式即可。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817221648.png"></p><h3 id="11-6-通知顺序"><a href="#11-6-通知顺序" class="headerlink" title="11.6 通知顺序"></a>11.6 通知顺序</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817230133.png"></p><h3 id="11-7-切入表达式"><a href="#11-7-切入表达式" class="headerlink" title="11.7 切入表达式"></a>11.7 切入表达式</h3><ul><li><strong>概念</strong>：描述切入点方法的一种表达式</li><li><strong>作用</strong>：主要用来决定项目中的哪些方法需要加入通知</li><li><strong>常见形式</strong>：<ul><li><b><code>execution(……)</code></b>：根据方法的签名来匹配</li><li><b><code>annotation(……)</code></b>：根据注解匹配<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817230513.png"></li></ul></li></ul><h4 id="11-7-1-execution"><a href="#11-7-1-execution" class="headerlink" title="11.7.1 execution"></a>11.7.1 execution</h4><p>execution 主要根据方法的返回值、包名、类名、方法名、方法参数等信息来匹配，语法为：<br><b><code>execution([访问修饰符] 返回值 [包名.类名.]方法名(方法参数) [throws 异常])</code></b></p><ul><li>其中方法参数填写的是<font color="red"><strong>参数类型的全类名</strong></font>，简单类型可以直接指定</li><li>其中可省略的部分：<ul><li><strong>访问修饰符</strong>：可以省略，表示任意访问修饰符（比如：public、protected）</li><li><strong>包名.类名</strong>：可以省略，表示任意包名、类名</li><li><strong>throws 异常</strong>：可以省略，表示任意异常（注意是方法上声明抛出的异常，不是实际抛出的异常）</li></ul></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Before(&quot;execution(public void com.itheima.service.impl.DeptServiceImpl.delete(java.lang.Integer))&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">    <span class="comment">// 方法体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ul><li>可以使用通配符描述切入点<ul><li><b><code>*</code></b>：单个独立的任意符号，可以通配任意返回值、包名、类名、方法名、任意类型的一个参数，也可以通配包、类、方法名的一部分</li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(* com.*.service.impl.*.*(*))</span><br></pre></td></tr></table></figure></div><ul><li><b><code>..</code></b>：多个独立的任意符号，可以通配任意层级的包，或任意类型、任意个数的参数,在通配包时，不能作为开头。如果要指定全部包，可以用<b><code>*..</code></b></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">execution(* com.itheima..DeptService.*(..))</span><br><span class="line">execution(* com.example.service..*.*(..))</span><br><span class="line">execution(* ..example.service..*.*(..)) <span class="comment">// 错误的</span></span><br><span class="line"><span class="comment">// 查询全部包下，无参数的方法</span></span><br><span class="line">execution(* *..*.*(..)) <span class="comment">//第三个 *：匹配类名中的最后一级，防止出现连续的 ...</span></span><br></pre></td></tr></table></figure></div></li></ul><blockquote><p><strong>注意事项</strong>：<br>根据业务需要，可以使用 且(&amp;&amp;) 、或(||)、非(!)来组合比较复杂的切入点表达式。</p></blockquote><ul><li>书写建议<ul><li>所有业务<strong>方法名</strong>在<strong>命名</strong>时尽量<strong>规范</strong>，方便切入点表达式快速匹配。如：查询类方法都是find开头，更新类方法都是update开头</li><li>描述切入点方法通常<strong>基于接口描述</strong>，而不是直接描述实现类，<strong>增强拓展性</strong></li><li>在满足业务需要的前提下，<strong>尽量缩小切入点的匹配范围</strong>。如：包名匹配尽量不使用.. ，使用 * 匹配单个包。</li></ul></li></ul><p><img lazyload src="/images/loading.svg" data-src="https://gitee.com/lusy37/typora/raw/master/202411171104448.png" alt="image.png|450"></p><h4 id="11-7-2-annotation"><a href="#11-7-2-annotation" class="headerlink" title="11.7.2 annotation"></a>11.7.2 annotation</h4><p><code>@annotation</code>注解的切点表达式用于匹配被指定注解标记的方法。例如，如果你有一个自定义注解<code>@MyLog</code>，你可以使用<code>@annotation</code>来指定所有带有<code>@MyLog</code>注解的方法作为切点。</p><ul><li><strong>示例</strong>：<br>假设你有一个自定义注解<code>@MyLog</code>：<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyLog &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>你希望在所有标记了<code>@MyLog</code>的地方记录方法执行时间，可以定义一个切面如下：<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggingAspect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;@annotation(com.example.MyLog)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logExecutionTime</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        <span class="comment">// 在方法执行前记录开始时间</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Method &quot;</span> + joinPoint.getSignature().getName() + <span class="string">&quot; is about to execute&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(&quot;@annotation(com.example.MyLog)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterExecution</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        <span class="comment">// 在方法执行后记录结束时间</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Method &quot;</span> + joinPoint.getSignature().getName() + <span class="string">&quot; has executed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>使用<code>@MyLog</code>注解:<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MyLog</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">performTask</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 业务逻辑</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Task is being performed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="11-8-连接点"><a href="#11-8-连接点" class="headerlink" title="11.8 连接点"></a>11.8 连接点</h3><ul><li>在Spring中用<font color="red">JoinPoint</font>抽象了连接点，用它可以获取方法执行时的相关信息，如目标类名，方法名，方法参数等。<ul><li>对于<b><code>@Around</code></b>通知，获取连接点信息只能使用 <b><code>ProceedingJoinPoint</code></b><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817233214.png"></li><li>对于其它四种通知，获取连接点信息只能使用 <b><code>JoinPoint</code></b>，它是<b><code>ProceedingJoinPoint</code></b>的父类<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817233227.png"></li></ul></li></ul><h2 id="12-配置"><a href="#12-配置" class="headerlink" title="12.配置"></a>12.配置</h2><ul><li>SpringBoot除了支持配置文件属性配置，还支持<strong>Java系统属性</strong>和<strong>命令行参数</strong>的方式进行属性配置。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818184556.png"></li><li><strong>优先级(高 -&gt; 低)</strong><ul><li>命令行参数 (–xxx&#x3D;xx)</li><li>java系统属性（-Dxxx&#x3D;xxx）</li><li>application.properties</li><li>application.yml</li><li>application.yml（忽略）</li></ul></li></ul><h2 id="13-Bean的管理"><a href="#13-Bean的管理" class="headerlink" title="13.Bean的管理"></a>13.Bean的管理</h2><h3 id="13-1-获取Bean"><a href="#13-1-获取Bean" class="headerlink" title="13.1 获取Bean"></a>13.1 获取Bean</h3><ul><li>默认情况下，Spring项目启动时，会把Bean都创建好放在IOC容器中，如果想要主动获取这些Bean，可以通过如下方式：<ul><li><strong>根据name获取Bean</strong>：<code>Object getBean(String name)</code></li><li><strong>根据类型获取Bean</strong>：<code>&lt;T&gt; T getBean(Class&lt;T&gt; requireType)</code></li><li><strong>根据name获取Bean（带类型转换）</strong>：<code>&lt;T&gt; T getBean(String name, Class&lt;T&gt; requireType)</code><blockquote><p><strong>注意事项</strong>：<br>上述所说的【Spring项目启动时，会把其中的Bean都创建好】还会受到作用域及延迟初始化影响，这里主要针对于默认的单例非延迟加载的Bean而言。</p></blockquote></li></ul></li></ul><h3 id="13-2-Bean作用域"><a href="#13-2-Bean作用域" class="headerlink" title="13.2 Bean作用域"></a>13.2 Bean作用域</h3><ul><li>Spring支持五种作用域，后三种在web环境下才生效：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818190143.png"></li><li>可以通过<b><code>@Scope</code></b>注解来进行配置作用域<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scope(&quot;prototype&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/depts&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p><strong>注意事项</strong>：</p><ul><li>默认<strong>singleton</strong>的bean，在容器启动时被创建，可以使用<b><code>@Lazy</code></b>注解来延迟初始化（延迟到第一次使用时）</li><li>prototype的bean，每一次使用该bean的时候都会创建一个新的实例</li><li>实际开发当中，绝大部分的Bean是单例的，也就是说大部分Bean不需要配置<strong>Scope</strong>属性</li></ul></blockquote></li></ul><h3 id="13-3-第三方Bean"><a href="#13-3-第三方Bean" class="headerlink" title="13.3 第三方Bean"></a>13.3 第三方Bean</h3><ul><li><b><code>@Bean</code></b><ul><li>如果要管理的Bean对象来自第三方（不是自定义的），是无法用<b><code>Component</code></b>及衍生注解声明Bean的，就需要用到<b><code>@Bean</code></b>注解。</li><li>若要管理的第三方Bean对象，建议对这些Bean进行分类配置，可以通过 <b><code>@Configuration</code></b>注解来声明一个配置类。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818191744.png"><blockquote><p><strong>注意事项</strong>：</p><ul><li><strong>@Bean</strong>修饰的方法将当前方法的返回值对象交给IOC容器管理，成为IOC容器的Bean</li><li>通过<b>@Bean</b>注解的name或value属性可以声明Bean的名称，如果不指定，默认Bean的名称就是方法名。</li><li>周期方法指定：<ul><li>原有注解方案：@PostConstruct、@PreDestroy 注解指定</li><li>bean属性指定：initMethod、destroyMethod 指定</li></ul></li><li>如果第三方Bean需要依赖其它Bean对象，直接在@Bean定义的方法中设置形参即可，容器会根据类型自动装配。如果有多个类型匹配，可以使用形参名等同于对应的Beanid标识即可。</li></ul></blockquote></li></ul></li></ul><blockquote><p><strong>@Component及衍生注解与@Bean注解使用场景？</strong></p><ul><li>项目中自定义的，使用@Component及其衍生注解</li><li>项目中引入第三方的，使用@Bean注解</li></ul></blockquote><h2 id="14-自动配置原理"><a href="#14-自动配置原理" class="headerlink" title="14.自动配置原理"></a>14.自动配置原理</h2><h3 id="14-1-ComponentScan-组件扫描"><a href="#14-1-ComponentScan-组件扫描" class="headerlink" title="14.1 @ComponentScan 组件扫描"></a>14.1 @ComponentScan 组件扫描</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818193043.png"></p><h3 id="14-2-Import导入"><a href="#14-2-Import导入" class="headerlink" title="14.2 @Import导入"></a>14.2 @Import导入</h3><p><strong>@Import</strong>注解将配置类、普通类、第三方的组件注册到 IOC 容器，组件在容器中的名字是全类名</p><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818193058.png"></p><h3 id="14-3-源码跟踪"><a href="#14-3-源码跟踪" class="headerlink" title="14.3 源码跟踪"></a>14.3 源码跟踪</h3><ul><li><p><strong>@SpringBootApplication</strong><br>该注解标识在SpringBoot工程引导类上，是SpringBoot中<strong>最重要</strong>的注解。该注解由三个部分组成：</p><ul><li><strong><code>@SpringBootConfiguration</code></strong>：该注解与<code>@Configuration</code>注解作用相同，用来声明当前也是一个配置类。</li><li><strong><code>@ComponentScan</code></strong>：组件扫描，默认扫描当前引导类所在包及其子包。</li><li><strong><code>@EnableAutoConfiguration</code></strong>：SpringBoot实现自动化配置的核心注解。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818194105.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818194131.png"></li></ul></li><li><p><strong>@Conditional</strong></p><ul><li><strong>作用</strong>：按照一定的条件进行判断，在满足给定条件后才会注册对应的Bean对象到Spring IOC容器中。</li><li><strong>位置</strong>：方法、类</li><li><strong>@Conditional本身是一个父注解，派生出大量的子注解</strong>：<ul><li><strong><code>@ConditionalOnClass</code></strong>：判断环境中是否有对应字节码文件，才注册Bean到IOC容器</li><li><strong><code>@ConditionalOnMissingBean</code></strong>：判断环境中没有对应的Bean（类型或名称），才注册Bean到IOC容器</li><li><strong><code>@ConditionalOnProperty</code></strong>：判断配置文件中有对应属性和值，才注册Bean到IOC容器</li></ul></li></ul></li></ul><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean</span></span><br><span class="line"><span class="keyword">public</span> Gson <span class="title function_">gson</span><span class="params">(GsonBuilder gsonBuilder)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gsonBuilder.create();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818195303.png"></p><h3 id="14-4-自定义starter"><a href="#14-4-自定义starter" class="headerlink" title="14.4 自定义starter"></a>14.4 自定义starter</h3><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818195426.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818195502.png"></p><h2 id="15-Maven高级"><a href="#15-Maven高级" class="headerlink" title="15.Maven高级"></a>15.Maven高级</h2><h3 id="15-1-分模块设计"><a href="#15-1-分模块设计" class="headerlink" title="15.1 分模块设计"></a>15.1 分模块设计</h3><ol><li><strong>什么是分模块设计？</strong></li></ol><ul><li>将项目按照功能拆分成若干个子模块</li></ul><ol start="2"><li><strong>为什么要分模块设计？</strong></li></ol><ul><li>方便项目的管理维护、拓展、也方便模块间的相互调用，资源共享</li></ul><ol start="3"><li><strong>注意事项</strong></li></ol><ul><li>分模块设计需要先针对模块功能进行设计，再进行编码。不会先将工程开发完毕，然后进行拆分</li></ul><p><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818200210.png"></p><h3 id="15-2-继承"><a href="#15-2-继承" class="headerlink" title="15.2 继承"></a>15.2 继承</h3><ul><li><strong>概念</strong>：继承描述的是两个工程间的关系，与java中的继承相似，子工程可以继承父工程中的配置信息，常见于依赖关系的继承</li><li><strong>作用</strong>：简化依赖配置、统一管理依赖</li><li><strong>实现</strong>：<b><code>&lt;parent&gt;……&lt;/parent&gt;</code></b></li><li><strong>具体步骤</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818200958.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818201045.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818201101.png"></li><li><strong>总结</strong>：<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818201356.png"></li></ul><blockquote><p><strong>打包方式</strong>：</p><ul><li><strong>jar</strong>：普通模块打包，springboot项目基本都是jar包（内嵌tomcat运行）</li><li><strong>war</strong>：普通web程序打包，需要部署在外部的tomcat服务器中运行</li><li><strong>pom</strong>：父工程或聚合工程，该模块不写代码，仅进行依赖管理</li></ul></blockquote><h3 id="15-3-版本锁定"><a href="#15-3-版本锁定" class="headerlink" title="15.3 版本锁定"></a>15.3 版本锁定</h3><ul><li>在maven中，可以在父工程的pom文件中通过<b><code>&lt;dependencyManagement&gt;</code></b>来统一管理依赖版本。</li><li><b><code>&lt;dependencyManagement&gt;</code></b> 是用来管理依赖版本的，它用于声明依赖的版本，但这些依赖不会自动导入到项目中，还需要再<b>&lt;dependencies&gt;</b>中引入。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818202248.png"></li></ul><blockquote><p><strong>注意事项</strong>：</p><ul><li>子工程引入依赖时，无需指定 <b>&lt;version&gt;</b>版本号，父工程统一管理。变更依赖版本，只需在父工程中统一变更。</li></ul><p><b>&lt;dependencyManagement&gt;与&lt;dependencies&gt;的区别</b>：</p><ul><li><b>&lt;dependencies&gt;</b>是直接依赖，在父工程配置了依赖，子工程会直接继承下来。</li><li><b>&lt;dependencyManagement&gt;</b>是统一管理依赖版本，不会直接依赖，还需要在子工程中引入所需依赖(无需指定版本)</li></ul></blockquote><ul><li>也可以通过<b><code>&lt;properties&gt;</code></b>自定义&#x2F;引用属性。<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818202711.png"></li></ul><h3 id="15-4-聚合"><a href="#15-4-聚合" class="headerlink" title="15.4 聚合"></a>15.4 聚合</h3><ul><li><strong>概念</strong>：将多个模块组织成一个整体，同时进行项目的构建。</li><li><strong>聚合工程</strong>：一个不具有业务功能的”空”工程（有且仅有一个pom文件）</li><li><strong>作用</strong>：快速构建项目（无需根据依赖关系手动构建，直接在聚合工程上构建即可）<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818204310.png"></li><li><strong>实例</strong>：聚合使得在父项目中执行 <code>mvn install</code> 等命令时，所有子模块都会被一起构建。</li></ul><blockquote><p><strong>继承与聚合</strong>：</p><ul><li><strong>作用</strong><ul><li>聚合用于快速构建项目</li><li>继承用于简化依赖配置、统一管理依赖</li></ul></li><li><strong>相同点</strong>：<ul><li>聚合与继承的pom.xml文件打包方式均为pom，可以将两种关系制作到同一个pom文件中</li><li>聚合与继承均属于设计型模块，并无实际的模块内容</li></ul></li><li><strong>不同点</strong>：<ul><li>聚合是在聚合工程中配置关系，聚合可以感知到参与聚合的模块有哪些</li><li>继承是在子模块中配置关系，父模块无法感知哪些子模块继承了自己</li></ul></li></ul></blockquote><h3 id="15-5-私服"><a href="#15-5-私服" class="headerlink" title="15.5 私服"></a>15.5 私服</h3><ul><li><strong>概念</strong>: 私服是一种特殊的远程仓库，它是架设在局域网内的仓库服务，用来代理位于外部的中央仓库，用于解决团队内部的资源共享与资源同步问题<br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210544.png"></li><li><strong>资源上传与下载</strong><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210623.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210637.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210646.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210705.png"><br><img lazyload src="/images/loading.svg" data-src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210714.png"></li></ul><h3 id="16-Mybatis-的-Mapper-文件什么时候需要使用-Param"><a href="#16-Mybatis-的-Mapper-文件什么时候需要使用-Param" class="headerlink" title="16 Mybatis 的 Mapper 文件什么时候需要使用 @Param"></a>16 Mybatis 的 Mapper 文件什么时候需要使用 @Param</h3><p><code>@Param</code> 注解的主要作用是 <strong>给 MyBatis 传递的参数起别名</strong>，从而在 <code>mapper.xml</code> 里可以正确引用参数。是否需要 <code>@Param</code> 取决于你的方法参数类型和 MyBatis 解析参数的方式。</p><hr><h4 id="✅-需要-Param-的情况"><a href="#✅-需要-Param-的情况" class="headerlink" title="✅ 需要 @Param 的情况"></a><strong>✅ 需要 <code>@Param</code> 的情况</strong></h4><h5 id="1️⃣-方法参数有多个"><a href="#1️⃣-方法参数有多个" class="headerlink" title="1️⃣ 方法参数有多个"></a><strong>1️⃣ 方法参数有多个</strong></h5><p>如果 <code>Mapper</code> 方法有 <strong>两个或以上参数</strong>，MyBatis <strong>默认不会自动识别参数名</strong>，需要 <code>@Param</code> 指定别名，否则 <code>mapper.xml</code> 无法正确引用：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;DeptVo&gt; <span class="title function_">findDeptByNameAndState</span><span class="params">(<span class="meta">@Param(&quot;deptName&quot;)</span> String deptName, </span></span><br><span class="line"><span class="params">                                    <span class="meta">@Param(&quot;dataState&quot;)</span> String dataState)</span>;</span><br></pre></td></tr></table></figure></div><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findDeptByNameAndState&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">    select * from sys_dept</span><br><span class="line">    where dept_name like concat(&#x27;%&#x27;, #&#123;deptName&#125;, &#x27;%&#x27;)</span><br><span class="line">      and data_state = #&#123;dataState&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><strong>❌ 不加 <code>@Param</code> 可能会报错</strong>：</p><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Parameter &#x27;deptName&#x27; not found. Available parameters are [arg0, arg1, param1, param2]</span><br></pre></td></tr></table></figure></div><p>因为 MyBatis 默认只给参数分配 <code>param1, param2</code> 这样的名字，XML 里 <code>#&#123;deptName&#125;</code> 找不到对应的参数。</p><hr><h5 id="2️⃣-、List-或-Collection-作为参数"><a href="#2️⃣-、List-或-Collection-作为参数" class="headerlink" title="2️⃣ [ ]、List 或 Collection 作为参数"></a><strong>2️⃣ <code>[ ]</code>、<code>List</code> 或 <code>Collection</code> 作为参数</strong></h5><p>如果方法参数是 <strong>List 或 Collection</strong>，MyBatis <strong>不会自动赋予参数名</strong>，需要用 <code>@Param</code> 指定别名：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;DeptVo&gt; <span class="title function_">findDeptInDeptNos</span><span class="params">(<span class="meta">@Param(&quot;deptNos&quot;)</span> List&lt;String&gt; deptNos)</span>;</span><br></pre></td></tr></table></figure></div><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findDeptInDeptNos&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">    select * from sys_dept where dept_no in </span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;deptNos&quot;</span> <span class="attr">item</span>=<span class="string">&quot;deptNo&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span>&gt;</span></span><br><span class="line">        #&#123;deptNo&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><strong>❌ 不加 <code>@Param(&quot;deptNos&quot;)</code> 可能会报错</strong>：</p><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">There is no getter for property named &#x27;deptNos&#x27; in class &#x27;java.util.ArrayList&#x27;</span><br></pre></td></tr></table></figure></div><p>因为 MyBatis 认为 <code>List</code> 参数没有名字，而 XML 里 <code>collection=&quot;deptNos&quot;</code> 需要一个明确的参数名。</p><hr><h5 id="3️⃣-需要在-mapper-xml-里使用参数别名"><a href="#3️⃣-需要在-mapper-xml-里使用参数别名" class="headerlink" title="3️⃣ 需要在 mapper.xml 里使用参数别名"></a><strong>3️⃣ 需要在 <code>mapper.xml</code> 里使用参数别名</strong></h5><p>如果你想在 SQL 里更清楚地引用参数，比如：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DeptVo <span class="title function_">findDeptInfo</span><span class="params">(<span class="meta">@Param(&quot;dept&quot;)</span> DeptDto dept)</span>;</span><br></pre></td></tr></table></figure></div><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findDeptInfo&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">    select * from sys_dept </span><br><span class="line">    where dept_no = #&#123;dept.deptNo&#125; </span><br><span class="line">      and dept_name like concat(&#x27;%&#x27;, #&#123;dept.deptName&#125;, &#x27;%&#x27;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><strong>如果不加 <code>@Param(&quot;dept&quot;)</code>，在 XML 里就不能用 <code>#&#123;dept.xxx&#125;</code> 来访问 <code>DeptDto</code> 里的属性</strong>。</p><hr><h4 id="❌-不需要-Param-的情况"><a href="#❌-不需要-Param-的情况" class="headerlink" title="❌ 不需要 @Param 的情况"></a><strong>❌ 不需要 <code>@Param</code> 的情况</strong></h4><h5 id="1️⃣-只有一个基本类型参数"><a href="#1️⃣-只有一个基本类型参数" class="headerlink" title="1️⃣ 只有一个基本类型参数"></a><strong>1️⃣ 只有一个基本类型参数</strong></h5><p>如果方法只有<strong>一个参数</strong>，且是 <strong>基本数据类型或 String</strong>，MyBatis <strong>会自动识别</strong>：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DeptVo <span class="title function_">findDeptByNo</span><span class="params">(String deptNo)</span>;</span><br></pre></td></tr></table></figure></div><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findDeptByNo&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">    select * from sys_dept where dept_no = #&#123;deptNo&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>✅ <strong>不需要 <code>@Param</code>，MyBatis 会自动匹配 <code>#&#123;deptNo&#125;</code></strong>。</p><hr><h5 id="2️⃣-只有一个-JavaBean-或-DTO-作为参数"><a href="#2️⃣-只有一个-JavaBean-或-DTO-作为参数" class="headerlink" title="2️⃣ 只有一个 JavaBean 或 DTO 作为参数"></a><strong>2️⃣ 只有一个 JavaBean 或 DTO 作为参数</strong></h5><p>如果方法只有<strong>一个对象参数</strong>（JavaBean 或 DTO），MyBatis <strong>会自动匹配对象的字段</strong>：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DeptVo <span class="title function_">findDeptByDto</span><span class="params">(DeptDto deptDto)</span>;</span><br></pre></td></tr></table></figure></div><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findDeptByDto&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;BaseResultMap&quot;</span>&gt;</span></span><br><span class="line">    select * from sys_dept </span><br><span class="line">    where dept_no = #&#123;deptNo&#125; </span><br><span class="line">      and dept_name like concat(&#x27;%&#x27;, #&#123;deptName&#125;, &#x27;%&#x27;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>✅ <strong>MyBatis 会自动解析 <code>DeptDto</code> 里的字段，不需要 <code>@Param</code></strong>。</p><hr><h5 id="3️⃣-只有一个-List-或-Collection-参数，并且-XML-里用-collection-list"><a href="#3️⃣-只有一个-List-或-Collection-参数，并且-XML-里用-collection-list" class="headerlink" title="3️⃣ 只有一个 List 或 Collection 参数，并且 XML 里用 collection=&quot;list&quot;"></a><strong>3️⃣ 只有一个 <code>List</code> 或 <code>Collection</code> 参数，并且 XML 里用 <code>collection=&quot;list&quot;</code></strong></h5><p>MyBatis <strong>默认把 <code>List</code> 绑定到 <code>list</code></strong>，所以如果 XML 里使用 <code>collection=&quot;list&quot;</code>，也可以不用 <code>@Param</code>：</p><div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;DeptVo&gt; <span class="title function_">findDeptInDeptNos</span><span class="params">(List&lt;String&gt; deptNos)</span>;</span><br></pre></td></tr></table></figure></div><div class="code-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;list&quot;</span> <span class="attr">item</span>=<span class="string">&quot;deptNo&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span>&gt;</span></span><br><span class="line">    #&#123;deptNo&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>✅ <strong>可以不加 <code>@Param</code>，因为 MyBatis 默认会把 <code>List</code> 绑定到 <code>list</code> 这个名字</strong>。</p><hr><h4 id="🚀-总结：什么时候需要-Param？"><a href="#🚀-总结：什么时候需要-Param？" class="headerlink" title="🚀 总结：什么时候需要 @Param？"></a><strong>🚀 总结：什么时候需要 <code>@Param</code>？</strong></h4><table><thead><tr><th>情况</th><th>需要 <code>@Param</code></th><th>说明</th></tr></thead><tbody><tr><td><strong>多个参数</strong>（基本类型或 String）</td><td>✅ 需要</td><td>MyBatis 默认不会自动匹配参数名</td></tr><tr><td><strong>只有一个基本类型参数</strong></td><td>❌ 不需要</td><td>MyBatis 会自动识别</td></tr><tr><td><strong>只有一个 JavaBean 或 DTO 参数</strong></td><td>❌ 不需要</td><td>MyBatis 会自动匹配字段</td></tr><tr><td><strong><code>List</code> 或 <code>Collection</code> 参数</strong></td><td>✅ 需要（除非用 <code>list</code> 作为默认名）</td><td>MyBatis 默认不给 <code>List</code> 取名</td></tr><tr><td><strong>想给参数起别名</strong></td><td>✅ 需要</td><td>方便 XML 里使用更清晰的参数名</td></tr></tbody></table><h5 id="📌-推荐的做法"><a href="#📌-推荐的做法" class="headerlink" title="📌 推荐的做法"></a><strong>📌 推荐的做法</strong></h5><ul><li><strong>单个基本类型或 JavaBean 作为参数时</strong>，不用 <code>@Param</code>，MyBatis 能自动解析。</li><li><strong>有多个参数时</strong>，一定要用 <code>@Param</code>，否则 MyBatis 只能用 <code>param1, param2</code> 访问参数。</li><li><strong><code>List</code> 作为参数时</strong>，最好加 <code>@Param(&quot;xxx&quot;)</code>，否则只能用 <code>collection=&quot;list&quot;</code> 访问。</li></ul><p>如果你不确定是否需要 <code>@Param</code>，<strong>加上它总是安全的</strong>，但如果只有一个简单参数，可以省略。 🚀</p></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><strong>Title:</strong> Java IO流</li><li><strong>Author:</strong> Lu</li><li><strong>Created at :</strong> 2024-06-01 08:46:53</li><li><strong>Updated at :</strong> 2025-03-11 12:44:58</li><li><strong>Link:</strong> https://lusy.ink/2024/06/01/JavaWeb/</li><li><strong>License: </strong>This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">#学习总结</a>&nbsp;</li><li class="tag-item mx-0.5"><a href="/tags/Java/">#Java</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/2024/07/16/StringRedisTemplate/"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex justify-center items-center"><span class="post-nav-title-item">SpringRedisTemplate 使用</span> <span class="post-nav-item">Prev posts</span></span></a></div><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="next" rel="next" href="/2024/05/30/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="title flex justify-center items-center"><span class="post-nav-title-item">Java 多线程</span> <span class="post-nav-item">Next posts</span> </span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div><div class="comment-container px-2 sm:px-6 md:px-8 pb-8"><div class="comments-container mt-10 w-full"><div id="comment-anchor" class="w-full h-2.5"></div><div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">Comments</div><div id="waline"></div><script type="module" data-swup-reload-script>import{init}from"/js/libs/waline.mjs";function loadWaline(){init({el:"#waline",serverURL:"https://comment.lusy.ink",lang:"zh-CN",dark:'body[class~="dark-mode"]',reaction:!1,requiredMeta:["nick","mail"],emoji:[]})}"undefined"!=typeof swup?loadWaline():window.addEventListener("DOMContentLoaded",loadWaline)</script></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">On this page</div><div class="page-title">Java IO流</div><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaWeb%E5%AD%A6%E4%B9%A0"><span class="nav-text">JavaWeb学习</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%88%9D%E8%AF%86web%E5%89%8D%E7%AB%AF"><span class="nav-text">1.初识web前端</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-HTML"><span class="nav-text">1.1 HTML</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-1-%E6%A0%87%E9%A2%98%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.1 标题标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-2-%E6%B0%B4%E5%B9%B3%E7%BA%BF%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.2 水平线标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-3-%E6%8D%A2%E8%A1%8C%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.3 换行标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-4-%E6%AE%B5%E8%90%BD%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.4 段落标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-5-%E6%96%87%E6%9C%AC%E5%8A%A0%E7%B2%97%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.5 文本加粗标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-6-%E5%9B%BE%E7%89%87%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.6 图片标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-7-%E8%A7%86%E9%A2%91%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.7 视频标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-8-%E9%9F%B3%E9%A2%91%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.8 音频标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-9-%E8%B6%85%E9%93%BE%E6%8E%A5%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.9 超链接标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-10-%E5%B8%83%E5%B1%80%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.10 布局标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-11-%E8%A1%A8%E6%A0%BC%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.11 表格标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-12-%E8%A1%A8%E5%8D%95%E6%A0%87%E7%AD%BE"><span class="nav-text">1.1.12 表单标签</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-CSS"><span class="nav-text">1.2 CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-1-%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B"><span class="nav-text">1.2.1 盒子模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-2-CSS%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="nav-text">1.2.2 CSS引入方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-3-CSS%E9%80%89%E6%8B%A9%E5%99%A8"><span class="nav-text">1.2.3 CSS选择器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-4-CSS%E5%B1%9E%E6%80%A7"><span class="nav-text">1.2.4 CSS属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-JavaScript"><span class="nav-text">1.3 JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-1-JS%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F"><span class="nav-text">1.3.1 JS引入方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-2-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="nav-text">1.3.2 基础语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-3-JS%E5%87%BD%E6%95%B0"><span class="nav-text">1.3.3 JS函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-4-JS%E5%AF%B9%E8%B1%A1"><span class="nav-text">1.3.4 JS对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-Vue"><span class="nav-text">1.4 Vue</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-1-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-text">1.4.1 快速入门</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-2-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="nav-text">1.4.2 常用指令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-3-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-text">1.4.3 生命周期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-5-Ajax"><span class="nav-text">1.5 Ajax</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-6-Axios"><span class="nav-text">1.6 Axios</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-Vue%E9%A1%B9%E7%9B%AE"><span class="nav-text">1.7 Vue项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-8-Element%E7%BB%84%E4%BB%B6"><span class="nav-text">1.8 Element组件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Maven"><span class="nav-text">2.Maven</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E4%BB%8B%E7%BB%8D"><span class="nav-text">2.1 介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Maven%E5%9D%90%E6%A0%87"><span class="nav-text">2.2 Maven坐标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-%E4%BE%9D%E8%B5%96%E9%85%8D%E7%BD%AE"><span class="nav-text">2.3 依赖配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-%E4%BE%9D%E8%B5%96%E4%BC%A0%E9%80%92"><span class="nav-text">2.4 依赖传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-text">2.5 生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-6-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="nav-text">2.6 项目结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-HTTP"><span class="nav-text">3.HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E6%A6%82%E5%BF%B5"><span class="nav-text">3.1 概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2%E7%89%B9%E7%82%B9"><span class="nav-text">3.2特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"><span class="nav-text">3.2 请求数据格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"><span class="nav-text">3.3响应数据格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82%E5%A4%B4%E6%95%B0%E6%8D%AE"><span class="nav-text">3.4 接收请求头数据</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Tomcat"><span class="nav-text">4.Tomcat</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-%E6%A6%82%E5%BF%B5"><span class="nav-text">4.1 概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-text">4.2 基本使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94"><span class="nav-text">5.请求响应</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-%E8%AF%B7%E6%B1%82"><span class="nav-text">5.1 请求</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-1-%E7%AE%80%E5%8D%95%E5%8F%82%E6%95%B0"><span class="nav-text">5.1.1 简单参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-2-%E5%AE%9E%E4%BD%93%E5%8F%82%E6%95%B0"><span class="nav-text">5.1.2 实体参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-3-%E6%95%B0%E7%BB%84%E9%9B%86%E5%90%88%E5%8F%82%E6%95%B0"><span class="nav-text">5.1.3 数组集合参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-4-%E6%97%A5%E6%9C%9F%E5%8F%82%E6%95%B0"><span class="nav-text">5.1.4 日期参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-5-JSON%E5%8F%82%E6%95%B0"><span class="nav-text">5.1.5 JSON参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-6-%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0"><span class="nav-text">5.1.6 路径参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-7-%E5%B0%8F%E7%BB%93"><span class="nav-text">5.1.7 小结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-%E5%93%8D%E5%BA%94"><span class="nav-text">5.2 响应</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-1-%E5%93%8D%E5%BA%94%E6%95%B0%E6%8D%AE"><span class="nav-text">5.2.1 响应数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-2-%E7%BB%9F%E4%B8%80%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C"><span class="nav-text">5.2.2 统一响应结果</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E5%88%86%E5%B1%82%E8%A7%A3%E8%80%A6"><span class="nav-text">6.分层解耦</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="nav-text">6.1 三层架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-%E5%88%86%E5%B1%82%E8%A7%A3%E8%80%A6"><span class="nav-text">6.2 分层解耦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-IOC-DI-%E5%85%A5%E9%97%A8"><span class="nav-text">6.3 IOC &amp; DI 入门</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-1-Bean%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="nav-text">6.3.1 Bean的声明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-2-Bean%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F"><span class="nav-text">6.3.2 Bean组件扫描</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-3-3-Bean%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="nav-text">6.3.3 Bean的依赖注入</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-Lombok"><span class="nav-text">7.Lombok</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-MyBatis"><span class="nav-text">8.MyBatis</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-text">8.1 快速入门</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-JDBC%E4%BB%8B%E7%BB%8D"><span class="nav-text">8.2 JDBC介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="nav-text">8.3 数据库连接池</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-4-%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="nav-text">8.4 基础操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-1-%E5%8F%82%E6%95%B0%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="nav-text">8.4.1 参数占位符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-2-%E9%A2%84%E7%BC%96%E8%AF%91SQL"><span class="nav-text">8.4.2 预编译SQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-3-%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA"><span class="nav-text">8.4.3 日志输出</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-4-%E5%88%A0%E9%99%A4"><span class="nav-text">8.4.4 删除</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-5-%E6%B7%BB%E5%8A%A0"><span class="nav-text">8.4.5 添加</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-6-%E6%9B%B4%E6%96%B0"><span class="nav-text">8.4.6 更新</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-7-%E6%9F%A5%E8%AF%A2"><span class="nav-text">8.4.7 查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-8-%E5%8F%82%E6%95%B0%E5%90%8D%E8%AF%B4%E6%98%8E"><span class="nav-text">8.4.8 参数名说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-9-%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85"><span class="nav-text">8.4.9 数据封装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-4-10-%E5%A4%9A%E8%A1%A8%E6%98%A0%E5%B0%84"><span class="nav-text">8.4.10 多表映射</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-5-XML%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="nav-text">8.5 XML映射文件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-1-if%E6%A0%87%E7%AD%BE"><span class="nav-text">8.5.1 if标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-2-where%E6%A0%87%E7%AD%BE"><span class="nav-text">8.5.2 where标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-3-set%E6%A0%87%E7%AD%BE"><span class="nav-text">8.5.3 set标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-4-foreach%E6%A0%87%E7%AD%BE"><span class="nav-text">8.5.4 foreach标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-5-sql%E7%89%87%E6%AE%B5"><span class="nav-text">8.5.5 sql片段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-6-trim%E6%A0%87%E7%AD%BE"><span class="nav-text">8.5.6 trim标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-7-choose-when-otherwise%E6%A0%87%E7%AD%BE"><span class="nav-text">8.5.7 choose&#x2F;when&#x2F;otherwise标签</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA"><span class="nav-text">9. 项目搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-1-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-text">9.1 环境搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-2-%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83"><span class="nav-text">9.2 开发规范</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-3-RequestMapping"><span class="nav-text">9.3 @RequestMapping</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-4-PageHelper%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6"><span class="nav-text">9.4 PageHelper分页插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-5-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="nav-text">9.5 文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-5-1-%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="nav-text">9.5.1 本地仓库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-5-2-%E9%98%BF%E9%87%8C%E4%BA%91OSS"><span class="nav-text">9.5.2 阿里云OSS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-6-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-text">9.6 配置文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-7-%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE%E6%B3%A8%E5%85%A5"><span class="nav-text">9.7 外部配置注入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-8-%E7%99%BB%E5%BD%95%E6%A0%A1%E9%AA%8C"><span class="nav-text">9.8 登录校验</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-8-1-%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF"><span class="nav-text">9.8.1 会话技术</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-8-2-%E8%BF%87%E6%BB%A4%E5%99%A8Filter"><span class="nav-text">9.8.2 过滤器Filter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-8-3-%E6%8B%A6%E6%88%AA%E5%99%A8-Interceptor"><span class="nav-text">9.8.3 拦截器(Interceptor)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-8-4-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="nav-text">9.8.4 异常处理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-9-%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C"><span class="nav-text">9.9 参数校验</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="nav-text">10. 事务管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#10-1-%E4%BA%8B%E5%8A%A1%E5%9B%9E%E9%A1%BE"><span class="nav-text">10.1 事务回顾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-2-Spring%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="nav-text">10.2 Spring事务管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-AOP"><span class="nav-text">11.AOP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11-1-%E6%A6%82%E8%BF%B0"><span class="nav-text">11.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-2-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-text">11.2 快速入门</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-3-AOP%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="nav-text">11.3 AOP核心概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-4-%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B"><span class="nav-text">11.4 通知类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-5-Pointcut%E6%B3%A8%E8%A7%A3"><span class="nav-text">11.5 @Pointcut注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-6-%E9%80%9A%E7%9F%A5%E9%A1%BA%E5%BA%8F"><span class="nav-text">11.6 通知顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-7-%E5%88%87%E5%85%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">11.7 切入表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#11-7-1-execution"><span class="nav-text">11.7.1 execution</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-7-2-annotation"><span class="nav-text">11.7.2 annotation</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-8-%E8%BF%9E%E6%8E%A5%E7%82%B9"><span class="nav-text">11.8 连接点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E9%85%8D%E7%BD%AE"><span class="nav-text">12.配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-Bean%E7%9A%84%E7%AE%A1%E7%90%86"><span class="nav-text">13.Bean的管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-1-%E8%8E%B7%E5%8F%96Bean"><span class="nav-text">13.1 获取Bean</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-2-Bean%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">13.2 Bean作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-3-%E7%AC%AC%E4%B8%89%E6%96%B9Bean"><span class="nav-text">13.3 第三方Bean</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86"><span class="nav-text">14.自动配置原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#14-1-ComponentScan-%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F"><span class="nav-text">14.1 @ComponentScan 组件扫描</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-2-Import%E5%AF%BC%E5%85%A5"><span class="nav-text">14.2 @Import导入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-3-%E6%BA%90%E7%A0%81%E8%B7%9F%E8%B8%AA"><span class="nav-text">14.3 源码跟踪</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-4-%E8%87%AA%E5%AE%9A%E4%B9%89starter"><span class="nav-text">14.4 自定义starter</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-Maven%E9%AB%98%E7%BA%A7"><span class="nav-text">15.Maven高级</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#15-1-%E5%88%86%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1"><span class="nav-text">15.1 分模块设计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-2-%E7%BB%A7%E6%89%BF"><span class="nav-text">15.2 继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-3-%E7%89%88%E6%9C%AC%E9%94%81%E5%AE%9A"><span class="nav-text">15.3 版本锁定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-4-%E8%81%9A%E5%90%88"><span class="nav-text">15.4 聚合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-5-%E7%A7%81%E6%9C%8D"><span class="nav-text">15.5 私服</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-Mybatis-%E7%9A%84-Mapper-%E6%96%87%E4%BB%B6%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8-Param"><span class="nav-text">16 Mybatis 的 Mapper 文件什么时候需要使用 @Param</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%9C%85-%E9%9C%80%E8%A6%81-Param-%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-text">✅ 需要 @Param 的情况</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%EF%B8%8F%E2%83%A3-%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E6%9C%89%E5%A4%9A%E4%B8%AA"><span class="nav-text">1️⃣ 方法参数有多个</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%EF%B8%8F%E2%83%A3-%E3%80%81List-%E6%88%96-Collection-%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="nav-text">2️⃣ [ ]、List 或 Collection 作为参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%EF%B8%8F%E2%83%A3-%E9%9C%80%E8%A6%81%E5%9C%A8-mapper-xml-%E9%87%8C%E4%BD%BF%E7%94%A8%E5%8F%82%E6%95%B0%E5%88%AB%E5%90%8D"><span class="nav-text">3️⃣ 需要在 mapper.xml 里使用参数别名</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%9D%8C-%E4%B8%8D%E9%9C%80%E8%A6%81-Param-%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-text">❌ 不需要 @Param 的情况</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%EF%B8%8F%E2%83%A3-%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="nav-text">1️⃣ 只有一个基本类型参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%EF%B8%8F%E2%83%A3-%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA-JavaBean-%E6%88%96-DTO-%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="nav-text">2️⃣ 只有一个 JavaBean 或 DTO 作为参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%EF%B8%8F%E2%83%A3-%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA-List-%E6%88%96-Collection-%E5%8F%82%E6%95%B0%EF%BC%8C%E5%B9%B6%E4%B8%94-XML-%E9%87%8C%E7%94%A8-collection-list"><span class="nav-text">3️⃣ 只有一个 List 或 Collection 参数，并且 XML 里用 collection&#x3D;&quot;list&quot;</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%F0%9F%9A%80-%E6%80%BB%E7%BB%93%EF%BC%9A%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81-Param%EF%BC%9F"><span class="nav-text">🚀 总结：什么时候需要 @Param？</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%F0%9F%93%8C-%E6%8E%A8%E8%8D%90%E7%9A%84%E5%81%9A%E6%B3%95"><span class="nav-text">📌 推荐的做法</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class="text-center">&copy; <span>2024</span> - 2025&nbsp;&nbsp;<i class="fa-regular fa-computer-classic"></i>&nbsp;&nbsp;<a href="/">Lu</a><p class="post-count space-x-0.5"><span>24 posts in total </span><span>172.3k words in total</span></p></div><script data-swup-reload-script src="https://cn.vercount.one/js"></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id="busuanzi_container_site_uv" class="lg:!block"><span class="text-sm">VISITOR COUNT</span> <span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" class="lg:!block"><span class="text-sm">TOTAL PAGE VIEWS</span> <span id="busuanzi_value_site_pv"></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"><span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span> <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.8.2</a></span></div><div>Blog up for <span class="odometer" id="runtime_days"></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li><li class="go-comment"><i class="fa-regular fa-comments"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/Swup.min.js"></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupSlideTheme.min.js"></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupScriptsPlugin.min.js"></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupProgressPlugin.min.js"></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupScrollPlugin.min.js"></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/SwupPreloadPlugin.min.js"></script><script>const swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/imageViewer.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/utils.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/main.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/navbarShrink.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/scrollTopBottom.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/lightDarkSwitch.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/categoryList.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/localSearch.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/codeBlock.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/lazyload.js"></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/runtime.js"></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/odometer.min.js"></script><link rel="stylesheet" href="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/assets/odometer-theme-minimal.css"><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/Typed.min.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/plugins/typed.js"></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/tools/tocToggle.js" data-swup-reload-script></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/toc.js" data-swup-reload-script></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/plugins/tabs.js" data-swup-reload-script></script><script src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/libs/moment-with-locales.min.js" data-swup-reload-script></script><script type="module" src="https://registry.npmmirror.com/hexo-theme-redefine/2.8.2/files/source/js/build/layouts/essays.js" data-swup-reload-script></script></body></html>